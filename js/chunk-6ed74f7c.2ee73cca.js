(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ed74f7c"],{"268b":function(t,e,n){},"39dd":function(t,e,n){},"48c0":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-dashboard-profile m-profile"},[e("h2",{staticClass:"u-title"},[e("i",{class:t.icon}),t._v(" "+t._s(t.title)+" "),t._t("header")],2),e("tabs",{attrs:{tabs:t.tabList,"msg-change-count":t.msgChangeCount}}),t._t("default")],2)},c=[],i=(n("a9e3"),n("b0c0"),function(){var t=this,e=t._self._c;return e("el-tabs",{staticClass:"m-dashboard-tabs",on:{"tab-click":t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(n){return e("el-tab-pane",{key:n.name,attrs:{name:n.name}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"u-tab-icon",class:n.icon}),t._v(" "+t._s(n.label)+" "),t.showCount?e("span",{staticClass:"u-count",class:t.count[t.countMap[n.name]]?"is-orange":""},[t._v("("+t._s(t.count[t.countMap[n.name]]||0)+")")]):t._e()])])})),1)}),r=[],s=(n("caad"),n("14d9"),n("c944")),o={name:"",props:{tabs:{type:Array,default:function(){return[]}},msgChangeCount:{type:Number,default:0}},data:function(){return{active:"",countMap:{msg:"message",letter:"letter"},count:{message:0,letter:0}}},watch:{$route:function(){this.active=this.routeName},msgChangeCount:{immediate:!0,handler:function(t){t>0&&(this.count.message=0),t<0&&this.count.message>0&&(this.count.message+=t)}}},computed:{showCount:function(){return["msg","letter"].includes(this.routeName)},routeName:function(){return this.$route.name}},methods:{changeTab:function(){this.$router.push({name:this.active})},loadCount:function(){var t=this;Object(s["b"])().then((function(e){var n,a=(null===(n=e.data)||void 0===n?void 0:n.data)||{};t.count.letter=a.letter||0})),Object(s["c"])().then((function(e){var n;t.count.message=(null===(n=e.data.data)||void 0===n?void 0:n.unread_count)||0}))}},mounted:function(){this.active=this.routeName,this.showCount&&this.loadCount()},components:{}},u=o,l=n("2877"),d=Object(l["a"])(u,i,r,!1,null,null,null),m=d.exports,f=n("5c97"),b={name:"uc",props:{icon:{type:String,default:"el-icon-user"},title:{type:String,default:"我的资料"},tabList:{type:Array,default:function(){return f["d"]}},msgChangeCount:{type:Number,default:0}},data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{tabs:m}},p=b,h=(n("dc6f"),Object(l["a"])(p,a,c,!1,null,null,null));e["a"]=h.exports},"5c97":function(t){t.exports=JSON.parse('{"e":[{"name":"frame","icon":"el-icon-camera","label":"头像框"},{"name":"theme","icon":"el-icon-orange","label":"主题风格"},{"name":"medal","icon":"el-icon-medal","label":"勋章"},{"name":"honor","icon":"el-icon-collection-tag","label":"称号"},{"name":"emotion","icon":"el-icon-picture-outline-round","label":"表情包"}],"d":[{"name":"profile","icon":"el-icon-user","label":"基本资料"},{"name":"avatar","icon":"el-icon-camera","label":"修改头像"},{"name":"pwd","icon":"el-icon-lock","label":"修改密码"},{"name":"notice","icon":"el-icon-message","label":"通知中心"},{"name":"connect","icon":"el-icon-connection","label":"绑定账号"},{"name":"address","icon":"el-icon-map-location","label":"地址管理"},{"name":"auth","icon":"el-icon-s-check","label":"账号认证"}],"b":[{"name":"mall","icon":"el-icon-shopping-bag-1","label":"商城订单"},{"name":"orders","icon":"el-icon-shopping-bag-2","label":"系统订单"}],"c":[{"name":"msg","icon":"el-icon-message","label":"通知"},{"name":"letter","icon":"el-icon-chat-dot-square","label":"私信"}],"a":[{"name":"certification","icon":"el-icon-medal","label":"电子证书"},{"name":"holidayCard","icon":"el-icon-sugar","label":"节日贺卡"},{"name":"birthdayCard","icon":"el-icon-present","label":"生日贺卡"}]}')},82220:function(t,e,n){"use strict";n("268b")},"8ec6":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-medal m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[e("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall?category=virtual",target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[e("div",{staticClass:"m-medal-content"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("已获得")]),e("div",{staticClass:"u-list"},t._l(t.userMedals,(function(n){return e("div",{key:n.id,staticClass:"u-item is-have",attrs:{title:n.medal_desc}},[e("img",{staticClass:"u-img",attrs:{src:t.imgSrc(n.medal),alt:n.medal}}),e("span",{staticClass:"u-model-name"},[t._v(t._s(n.medal_desc))]),e("time",{staticClass:"u-medal-time",attrs:{datetime:n.created_at}},[t._v(t._s(t.dateFormat(n.created_at)))]),e("el-button",{attrs:{size:"small",type:n.is_wear?"info":"primary",plain:!!n.is_wear},on:{click:function(e){return t.onIsWearChange(n)}}},[e("i",{class:n.is_wear?"el-icon-help":"el-icon-s-help"}),t._v(" "+t._s(n.is_wear?"卸下":"佩戴")+" ")])],1)})),0),e("el-divider",{attrs:{"content-position":"left"}},[t._v("未获得")]),e("div",{staticClass:"u-list"},t._l(t.noMedals,(function(n){return e("div",{key:n.id,staticClass:"u-item",attrs:{title:n.desc}},[e("img",{staticClass:"u-img",attrs:{src:t.imgSrc(n.name),alt:n.name}}),e("span",{staticClass:"u-model-name"},[t._v(t._s(n.desc))])])})),0)],1)])},c=[],i=n("c14f"),r=n("1da1"),s=(n("4de4"),n("7db0"),n("c740"),n("e9f5"),n("910d"),n("f665"),n("d3b7"),n("48c0")),o=n("5c97"),u=n("c9d2"),l=n("f6be"),d=n("01ea"),m=n("c1df"),f=n.n(m),b={name:"medal",components:{uc:s["a"]},data:function(){return{tabList:o["e"],medals:[],userMedals:[],noMedals:[]}},computed:{uid:function(){return u["a"].getInfo().uid}},mounted:function(){this.load()},methods:{dateFormat:function(t){return f()(t).format("YYYY-MM-DD")},load:function(){var t=this,e={_no_page:1,type:"user"};u["a"].isLogin()&&Object(l["j"])(this.uid,{is_wear:-1}).then(function(){var n=Object(r["a"])(Object(i["a"])().m((function n(a){var c,r;return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:return t.userMedals=a.data.data,n.n=1,Object(l["g"])(e);case 1:r=n.v,t.noMedals=null===(c=r.data.data)||void 0===c?void 0:c.filter((function(e){return!t.userMedals.find((function(t){return t.medal==e.name}))}));case 2:return n.a(2)}}),n)})));return function(t){return n.apply(this,arguments)}}())},imgSrc:function(t){return d["e"]+"design/medals/user/"+t+".gif"},hasMedal:function(t){var e;return(null===(e=this.userMedals)||void 0===e?void 0:e.findIndex((function(e){return e.medal==t})))>-1},onIsWearChange:function(t){var e=this;t.is_wear?Object(l["p"])(this.uid,t.id,0).then((function(){t.is_wear=0,e.$message.success("操作成功")})).catch((function(){t.is_wear=1})):Object(l["p"])(this.uid,t.id,1).then((function(){t.is_wear=1,e.$message.success("操作成功")})).catch((function(){t.is_wear=0}))}}},p=b,h=(n("82220"),n("2877")),g=Object(h["a"])(p,a,c,!1,null,null,null);e["default"]=g.exports},c740:function(t,e,n){"use strict";var a=n("23e7"),c=n("b727").findIndex,i=n("44d2"),r="findIndex",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{findIndex:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),i(r)},c944:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"g",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return o}));var a=n("41cb");function c(t){return Object(a["$next"])().get("/api/next2/userdata/messages",{params:t})}function i(t){return Object(a["$next"])().put("/api/next2/userdata/messages/read/".concat(t))}function r(){return Object(a["$next"])().put("/api/next2/userdata/messages/read")}function s(t){return Object(a["$next"])().delete("/api/next2/userdata/messages/".concat(t))}function o(){return Object(a["$next"])({mute:!0}).get("/api/next2/userdata/messages/unread_total")}function u(){return Object(a["$next"])({mute:!0}).get("/api/letter/unread/count")}function l(t){return Object(a["$next"])().get("/api/next2/comment/item/".concat(t))}},dc6f:function(t,e,n){"use strict";n("39dd")},f6be:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"n",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return m})),n.d(e,"e",(function(){return d})),n.d(e,"m",(function(){return f})),n.d(e,"q",(function(){return b})),n.d(e,"f",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"o",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"j",(function(){return _})),n.d(e,"g",(function(){return C})),n.d(e,"p",(function(){return O})),n.d(e,"k",(function(){return o})),n.d(e,"l",(function(){return j})),n.d(e,"b",(function(){return x}));n("99af");var a=n("41cb"),c=n("bc3a"),i=n.n(c),r=n("01ea");function s(t){return Object(a["$cms"])().get("/api/cms/user/decoration",{params:t})}function o(t){return Object(a["$cms"])().get("/api/cms/user/medal/check",{params:t})}function u(t){return Object(a["$cms"])().post("/api/cms/user/decoration",t)}function l(){var t=r["e"]+"design/decoration/index.json?".concat(Date.now());return i.a.get(t)}function d(){return i.a.get("".concat(r["h"],"emotion/output/catalog.json?").concat(Date.now()))}function m(t){return Object(a["$cms"])().get("/api/cms/user/decoration/check",{params:t})}function f(t,e){return Object(a["$cms"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(e,"/for/avatar"))}function b(t){return Object(a["$cms"])().put("/api/cms/user/my/avatar-frame",t)}function p(t){return Object(a["$cms"])().get("/api/cms/user/config/honor",{params:t})}function h(t){return Object(a["$next"])({mute:!0}).get("/api/next2/user/"+t+"/honors").then((function(t){return t.data.data}))}function g(t){return Object(a["$cms"])().put("/api/cms/user/honor/use/".concat(t))}function v(){return Object(a["$cms"])().delete("/api/cms/user/honor/use")}function _(t,e){return Object(a["$next"])({mute:!0}).get("/api/next2/user/"+t+"/medals",{params:e})}function j(t){return Object(a["$cms"])().post("/api/cms/user/medal/receive",t)}function C(t){return Object(a["$cms"])().get("/api/cms/config/medal",{params:t})}function O(t,e,n){return Object(a["$next"])().put("/api/next2/user/".concat(t,"/medals/").concat(e,"/wear/").concat(n))}function x(t){return Object(a["$cms"])().post("/api/cms/user/decoration/receive",t)}}}]);