(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b315b48"],{"0734":function(t,e,n){"use strict";n("a606")},"11e0":function(t,e,n){"use strict";n("eb1c")},"2d46":function(t,e,n){"use strict";n.d(e,"q",(function(){return c})),n.d(e,"e",(function(){return r})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return h})),n.d(e,"k",(function(){return b})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"l",(function(){return g})),n.d(e,"b",(function(){return v})),n.d(e,"r",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return C})),n.d(e,"n",(function(){return w})),n.d(e,"j",(function(){return x})),n.d(e,"s",(function(){return $})),n.d(e,"c",(function(){return j})),n.d(e,"f",(function(){return _})),n.d(e,"m",(function(){return y}));var i=n("41cb"),s=n("bc3a"),a=n.n(s),o=n("65c2");function r(){return Object(i["$cms"])().get("/api/cms/user/my/profile")}function c(t){return Object(i["$cms"])().put("/api/cms/user/my/profile",t)}function l(t){return Object(i["$cms"])().put("/api/cms/user/my/avatar",t)}function u(t){return Object(i["$cms"])().post("/api/cms/upload/avatar",t)}function d(){var t=o["__imgPath"]+"avatar/index.json";return a.a.get(t)}function m(t){return Object(i["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function h(t){return Object(i["$cms"])().put("/api/cms/user/my/password",t)}function f(t){return Object(i["$cms"])().get("/api/cms/user/account/email/valid",{params:{email:t}})}function p(t){return Object(i["$cms"])().post("/api/cms/user/account/email/bind",t)}function b(t){return Object(i["$cms"])().put("/api/cms/user/account/email/verify",{code:t},{app:"jx3box"})}function v(){return Object(i["$cms"])().get("/api/cms/account/oauth/status")}function g(t){return Object(i["$cms"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function _(){return Object(i["$next"])().get("/api/next2/qqbot/bind-token")}function y(){return Object(i["$next"])().delete("/api/next2/qqbot/bind-token")}function C(){return Object(i["$cms"])().get("/api/cms/wechat/mp/bind")}function w(){return Object(i["$cms"])().get("/api/cms/wechat/mp/unbind")}function x(t){return Object(i["$cms"])().post("/api/cms/account/oauth/phone/bind",t,{app:"jx3box"})}function $(t){return Object(i["$cms"])().put("/api/cms/account/oauth/phone/verify",t,{app:"jx3box"})}function j(t){return Object(i["$cms"])().get("/api/cms/account/oauth/phone/check",{params:t})}},"39dd":function(t,e,n){},"48c0":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-dashboard-profile m-profile"},[e("h2",{staticClass:"u-title"},[e("i",{class:t.icon}),t._v(" "+t._s(t.title)+" "),t._t("header")],2),e("tabs",{attrs:{tabs:t.tabList,"msg-change-count":t.msgChangeCount}}),t._t("default")],2)},s=[],a=(n("a9e3"),n("b0c0"),function(){var t=this,e=t._self._c;return e("el-tabs",{staticClass:"m-dashboard-tabs",on:{"tab-click":t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(n){return e("el-tab-pane",{key:n.name,attrs:{name:n.name}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"u-tab-icon",class:n.icon}),t._v(" "+t._s(n.label)+" "),t.showCount?e("span",{staticClass:"u-count",class:t.count[t.countMap[n.name]]?"is-orange":""},[t._v("("+t._s(t.count[t.countMap[n.name]]||0)+")")]):t._e()])])})),1)}),o=[],r=(n("caad"),n("14d9"),n("c944")),c={name:"",props:{tabs:{type:Array,default:function(){return[]}},msgChangeCount:{type:Number,default:0}},data:function(){return{active:"",countMap:{msg:"message",letter:"letter"},count:{message:0,letter:0}}},watch:{$route:function(){this.active=this.routeName},msgChangeCount:{immediate:!0,handler:function(t){t>0&&(this.count.message=0),t<0&&this.count.message>0&&(this.count.message+=t)}}},computed:{showCount:function(){return["msg","letter"].includes(this.routeName)},routeName:function(){return this.$route.name}},methods:{changeTab:function(){this.$router.push({name:this.active})},loadCount:function(){var t=this;Object(r["b"])().then((function(e){var n,i=(null===(n=e.data)||void 0===n?void 0:n.data)||{};t.count.letter=i.letter||0})),Object(r["c"])().then((function(e){var n;t.count.message=(null===(n=e.data.data)||void 0===n?void 0:n.unread_count)||0}))}},mounted:function(){this.active=this.routeName,this.showCount&&this.loadCount()},components:{}},l=c,u=n("2877"),d=Object(u["a"])(l,a,o,!1,null,null,null),m=d.exports,h=n("5c97"),f={name:"uc",props:{icon:{type:String,default:"el-icon-user"},title:{type:String,default:"我的资料"},tabList:{type:Array,default:function(){return h["d"]}},msgChangeCount:{type:Number,default:0}},data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{tabs:m}},p=f,b=(n("dc6f"),Object(u["a"])(p,i,s,!1,null,null,null));e["a"]=b.exports},"498a":function(t,e,n){"use strict";var i=n("23e7"),s=n("58a8").trim,a=n("c8d2");i({target:"String",proto:!0,forced:a("trim")},{trim:function(){return s(this)}})},"49ec":function(t,e,n){},5769:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-notice"},[e("div",{staticClass:"m-dashboard-content"},[e("el-alert",{staticClass:"u-tip",attrs:{title:"配置你的联系方式以接收魔盒通知",type:"warning","show-icon":""}}),e("div",{staticClass:"m-dashboard-content-list"},t._l(t.list,(function(n,i){return e("div",{key:i,staticClass:"m-item"},[e("span",{staticClass:"u-notice-item"},[e("img",{staticClass:"u-icon",attrs:{"svg-inline":"",src:t.icon(n.key)}}),e("span",{staticClass:"u-label"},[t._v(t._s(n.name))])]),e(n.component,{tag:"component"})],1)})),0)],1)])},s=[],a=n("48c0"),o=n("65c2"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-notice-wechat u-notice-box"},[e("div",{staticClass:"u-notice-value"},[t.isWechatVerified?e("span",{staticClass:"u-value"},[t._v("******")]):t._e(),e("el-tag",{staticClass:"u-notice-status",attrs:{type:t.isWechatVerified?"success":"info",size:"small"}},[t._v(t._s(t.isWechatVerified?"已绑定":"未绑定"))])],1),t.isWechatVerified?e("el-button",{staticClass:"u-bind-button",attrs:{type:"danger",icon:"el-icon-connection",circle:t.isPhone},on:{click:t.unbind}},[t._v("解除绑定 ")]):e("el-button",{staticClass:"u-bind-button",attrs:{type:"primary",circle:t.isPhone,icon:"el-icon-connection"},on:{click:t.open}},[t._v("绑定公众号 ")]),e("el-dialog",{attrs:{title:"绑定微信公众号",visible:t.visible,width:t.isPhone?"95%":"400px","custom-class":"m-notice-wechat__dialog","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-wechat-content"},[t.ticket?e("el-image",{staticClass:"u-qr",attrs:{src:t.qrcodeValue,lazy:""}},[e("div",{staticClass:"u-error",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]):t._e(),e("i",{staticClass:"u-tip"},[t._v("打开微信扫一扫，关注公众号接收通知告警")]),e("small",{staticClass:"u-tip-small"},[t._v("关注之后需要重新登陆方可生效")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.success,expression:"success"}],staticClass:"u-bind"},[e("i",{staticClass:"el-icon-success",staticStyle:{color:"#67c23a","margin-right":"5px"}}),e("span",{staticClass:"u-bind-text"},[t._v("绑定成功")])])],1)])],1)},c=[],l=(n("99af"),n("d3b7"),n("2d46")),u=n("b490"),d=n("41cb"),m=n("c9d2"),h="https://mp.weixin.qq.com/cgi-bin/showqrcode",f={name:"wechat",data:function(){return{ticket:"",visible:!1,sse:null,profile:null,success:!1,loading:!1,isPhone:window.innerWidth<768}},computed:{token:function(){return m["a"].getToken()},url:function(){return o["__cms"]+"api/cms/wechat/mp/bind/result?token="+this.token},isWechatVerified:function(){var t;return!(null===(t=this.profile)||void 0===t||!t.wechat_mp_openid)},qrcodeValue:function(){return"".concat(h,"?ticket=").concat(encodeURIComponent(this.ticket))}},mounted:function(){this.loadUser()},methods:{loadUser:function(){var t=this;Object(u["b"])().then((function(e){t.profile=e.data.data}))},open:function(){this.visible=!0,this.loadQrcode()},handleClose:function(){this.visible=!1,this.sse&&this.sse.disconnect()},loadQrcode:function(){var t=this;this.loading=!0,Object(l["h"])().then((function(e){var n;t.ticket=null===(n=e.data.data)||void 0===n?void 0:n.ticket,!t.isWechatVerified&&t.ticket&&(t.sse&&t.sse.disconnect(),t.initSSE())})).finally((function(){t.loading=!1}))},initSSE:function(){this.sse=new d["SSE"](this.url),this.sse.connect(),this.sse.on("open",(function(t){console.log("SSE Initialization")})),this.sse.on("bind_wx_mp",this.onMessage),this.sse.on("error",(function(t){console.log("SSE Error",t)}))},onMessage:function(){var t=this;this.success=!0,this.profile.wechat_mp_openid=!0,setTimeout((function(){t.visible=!1}),4e3)},unbind:function(){var t=this;this.$confirm("解绑后无法用微信接收魔盒通知消息，确定解绑吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["n"])().then((function(){t.$notify({title:"解绑成功",type:"success",duration:2e3}),t.loadUser()}))}))}}},p=f,b=(n("fcca"),n("2877")),v=Object(b["a"])(p,r,c,!1,null,null,null),g=v.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-notice-email u-notice-box"},[e("div",{staticClass:"u-notice-value"},[e("span",{staticClass:"u-address"},[t._v(t._s(t.blurAddress(t.currentEmail)))]),t.currentEmail?e("el-tag",{staticClass:"u-notice-status",attrs:{type:t.verified?"success":"warning",size:"small"}},[t._v(t._s(t.verified?"已验证":"未验证"))]):t._e()],1),e("el-button",{staticClass:"u-button",attrs:{type:"primary",circle:t.isPhone,icon:"el-icon-edit"},on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.verified?"修改邮箱":"绑定邮箱"))]),e("email-dialog",{attrs:{email:t.currentEmail,verified:t.verified},on:{update:t.onUpdate},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)},y=[],C=(n("ac1f"),n("5319"),n("9945")),w=(n("498a"),function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.modelValue,"custom-class":"m-email-dialog",width:t.isPhone?"90%":"950px"},on:{close:t.close}},[e("div",{staticClass:"m-content"},[e("div",{staticClass:"m-pic"}),e("div",{staticClass:"m-info"},[e("div",{staticClass:"u-title"},[t._v("更新邮箱")]),e("div",{staticClass:"u-email"},[t._v(" 当前邮箱地址："),e("span",{staticClass:"u-value"},[t._v(t._s(t.email||"当前未绑定邮箱")),t.email?e("el-tag",{staticClass:"u-status",attrs:{type:t.verified?"success":"warning",size:"mini"}},[t._v(t._s(t.verified?"已验证":"未验证"))]):t._e()],1)]),e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"status-icon":""}},[e("el-form-item",{attrs:{prop:"email"}},[e("el-input",{attrs:{size:"large","prefix-icon":"el-icon-message",placeholder:"请输入邮箱",clearable:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email","string"===typeof e?e.trim():e)},expression:"form.email"}})],1),t.hasSendBindEmail?e("el-form-item",{staticClass:"u-code-input",attrs:{prop:"code"}},[e("el-input",{attrs:{size:"large","prefix-icon":"el-icon-lock",placeholder:"请输入验证码"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}})],1):t._e()],1),t.hasSendBindEmail?e("el-alert",{staticClass:"u-alert",attrs:{title:"邮件发送成功",type:"success",description:"一封邮箱验证的邮件已发送至您的邮箱,请注意查收","show-icon":"",closable:!1}}):t._e(),e("div",{staticClass:"m-action"},[t.hasSendBindEmail?t._e():e("el-button",{attrs:{type:"primary",size:"large",disabled:!t.form.email,icon:"el-icon-position"},on:{click:t.bind}},[t._v(" 发送验证邮件")]),t.hasSendBindEmail?e("el-button",{attrs:{type:"primary",size:"large",disabled:!t.form.code,icon:"el-icon-position",loading:t.loading},on:{click:t.submit}},[t._v("确认")]):t._e()],1)],1)])])}),x=[],$=(n("d9e2"),{name:"email_dialog",props:{modelValue:{type:Boolean,default:!1},email:{type:String,default:""},verified:{type:Boolean,default:!1}},model:{prop:"modelValue",event:"update:modelValue"},data:function(){return{form:{email:"",code:""},rules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"},{validator:this.checkEmail,trigger:"blur"}]},loading:!1,hasSendBindEmail:!1,isPhone:window.innerWidth<768}},computed:{btnText:function(){return this.hasSendBindEmail?"确认":"发送验证邮件"}},methods:{close:function(){this.$emit("update:modelValue",!1),this.form.email="",this.form.code="",this.hasSendBindEmail=!1,this.$refs.form.resetFields()},checkEmail:function(t,e,n){e===this.email&&this.verified&&n(new Error("不可重复验证相同邮箱")),Object(l["a"])(e).then((function(t){var e;null!==(e=t.data.data)&&void 0!==e&&e.isExist?n(new Error("邮箱已被绑定")):n()}))},bind:function(){var t=this;this.$refs.form.validate((function(e){e&&Object(l["i"])({email:t.form.email}).then((function(e){t.hasSendBindEmail=!0}))}))},submit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.loading=!0,Object(l["k"])(t.form.code).then((function(e){t.$emit("update"),t.$message.success("邮箱绑定成功"),t.close(),t.loading=!1})))}))}}}),j=$,k=(n("7530f"),Object(b["a"])(j,w,x,!1,null,null,null)),O=k.exports,E={name:"email",components:{EmailDialog:O},data:function(){return{visible:!1,verified:!1,currentEmail:"",isPhone:window.innerWidth<768}},methods:{checkEmail:function(){var t=this;if(""==this.email)return this.email_validate=null,void(this.email_available=null);var e=Object(C["validator"])(this.email,{isEmail:!0,len:[3,50]});this.email_validate=e,e&&Object(l["a"])(this.email).then((function(e){var n;t.email_available=!(null!==(n=e.data.data)&&void 0!==n&&n.isExist)}))},bind:function(){var t=this;this.ready?Object(l["i"])({email:this.email}).then((function(e){t.$alert("申请提交成功,请前往邮箱验证","消息",{confirmButtonText:"确定"}),t.status=!0,t.verified=!1,t.address=t.email})):this.$message.error("邮箱地址不合法")},handleClose:function(){this.visible=!1},blurAddress:function(t){return t.replace(/(.{2}).*(.{0}@.*)/,"$1****$2")},load:function(){var t=this;Object(l["e"])().then((function(e){var n=e.data.data;t.currentEmail=null===n||void 0===n?void 0:n.user_email,t.verified=!(null===n||void 0===n||!n.verify_email)}))},onUpdate:function(){this.load()}},mounted:function(){this.load()}},S=E,z=(n("11e0"),Object(b["a"])(S,_,y,!1,null,null,null)),V=z.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-notice-phone u-notice-box"},[e("div",{staticClass:"u-notice-value"},[t.phone?e("span",{staticClass:"u-address"},[t._v(t._s(t.phoneStr(t.phone)))]):t._e(),e("el-tag",{staticClass:"u-notice-status",attrs:{type:t.phone?"success":"info",size:"small"}},[t._v(t._s(t.phone?"已绑定":"未绑定"))])],1),e("el-button",{staticClass:"u-bind-button",attrs:{type:"primary",circle:t.isPhone,icon:"el-icon-edit"},on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.phone?"修改手机":"绑定手机"))]),e("el-dialog",{attrs:{title:"绑定手机",visible:t.visible,width:t.isPhone?"95%":"400px","custom-class":"m-notice-phone__dialog","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"m-phone-content"},[e("el-form",{ref:"phoneRef",attrs:{model:t.form,rules:t.rules,"status-icon":""}},[e("el-form-item",{attrs:{label:"",prop:"user_phone"}},[e("el-input",{attrs:{placeholder:"输入手机号"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("i",{staticClass:"el-icon-phone"})]},proxy:!0}]),model:{value:t.form.user_phone,callback:function(e){t.$set(t.form,"user_phone",e)},expression:"form.user_phone"}})],1),e("el-form-item",{attrs:{label:"",prop:"code"}},[e("el-input",{attrs:{placeholder:"输入验证码"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("i",{staticClass:"el-icon-lock"})]},proxy:!0},{key:"append",fn:function(){return[e("el-button",{attrs:{disabled:t.canSendCode},on:{click:t.sendCode}},[t._v(t._s(t.interval>0?t.interval+"s":"发送验证码"))])]},proxy:!0}]),model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)],1),e("el-button",{staticClass:"u-btn",attrs:{type:"primary",disabled:!this.form.user_phone||!this.form.code},on:{click:t.verify}},[t._v("确认")])],1)])],1)},B=[],q=(n("00b4"),{name:"phone",data:function(){var t=this;return{visible:!1,phone:"",isPhone:window.innerWidth<768,loading:!1,form:{user_phone:"",code:""},timer:null,interval:0,hasBind:!1,rules:{user_phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,n,i){return n?/^1[3456789]\d{9}$/.test(n)?n==t.phone?i(new Error("手机号未变更")):void Object(l["c"])({phone:n}).then((function(e){e.data.data?i():(t.hasBind=!0,i(new Error("手机号已被绑定")))})):i(new Error("手机号格式错误")):i(new Error("请输入手机号"))},trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},computed:{canSendCode:function(){return!this.form.user_phone||this.interval>0||this.form.user_phone==this.phone||this.hasBind}},methods:{phoneStr:function(t){return t?t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):""},onUpdate:function(){this.visible=!1},handleClose:function(){this.form.user_phone="",this.form.code="",this.interval=0,this.visible=!1,clearInterval(this.timer),this.$refs.phoneRef.clearValidate()},sendCode:function(){var t=this,e=/^1[3456789]\d{9}$/;e.test(this.form.user_phone)?(this.interval=60,Object(l["j"])({phone:this.form.user_phone}).then((function(e){t.timer=setInterval((function(){t.interval>0?t.interval--:clearInterval(t.timer)}),1e3),t.$message.success("发送成功")}))):this.$message.error("手机号格式错误")},verify:function(){var t=this,e=/^1[3456789]\d{9}$/;e.test(this.form.user_phone)?Object(l["s"])({phone:this.form.user_phone,code:this.form.code}).then((function(e){t.$message.success("绑定成功"),t.visible=!1,t.phone=t.form.user_phone})):this.$message.error("手机号格式错误")}},mounted:function(){var t=this;Object(l["e"])().then((function(e){t.phone=e.data.data.user_phone}))},beforeDestroy:function(){clearInterval(this.timer)}}),I=q,A=(n("6b1f"),Object(b["a"])(I,P,B,!1,null,null,null)),N=A.exports,R={name:"notice",components:{uc:a["a"],wechat:g,email:V},data:function(){return{list:[{key:"email",name:"邮箱",component:V},{key:"wechat",name:"微信",component:g},{key:"phone",name:"手机",component:N}]}},methods:{icon:function(t){return o["__imgPath"]+"image/connect/"+t+".svg"}},mounted:function(){}},T=R,W=(n("0734"),Object(b["a"])(T,i,s,!1,null,null,null));e["default"]=W.exports},"5c97":function(t){t.exports=JSON.parse('{"e":[{"name":"frame","icon":"el-icon-camera","label":"头像框"},{"name":"theme","icon":"el-icon-orange","label":"主题风格"},{"name":"honor","icon":"el-icon-collection-tag","label":"称号"},{"name":"medal","icon":"el-icon-medal","label":"勋章"},{"name":"emotion","icon":"el-icon-picture-outline-round","label":"表情包"}],"d":[{"name":"profile","icon":"el-icon-user","label":"基本资料"},{"name":"avatar","icon":"el-icon-camera","label":"修改头像"},{"name":"pwd","icon":"el-icon-lock","label":"修改密码"},{"name":"notice","icon":"el-icon-message","label":"通知中心"},{"name":"connect","icon":"el-icon-connection","label":"绑定账号"},{"name":"address","icon":"el-icon-map-location","label":"地址管理"},{"name":"auth","icon":"el-icon-s-check","label":"账号认证"}],"b":[{"name":"mall","icon":"el-icon-shopping-bag-1","label":"商城订单"},{"name":"orders","icon":"el-icon-shopping-bag-2","label":"系统订单"}],"c":[{"name":"msg","icon":"el-icon-message","label":"通知"},{"name":"letter","icon":"el-icon-chat-dot-square","label":"私信"}],"a":[{"name":"certification","icon":"el-icon-medal","label":"电子证书"},{"name":"holidayCard","icon":"el-icon-sugar","label":"节日贺卡"},{"name":"birthdayCard","icon":"el-icon-present","label":"生日贺卡"}]}')},"6b1f":function(t,e,n){"use strict";n("a3a0")},"6cd9":function(t,e,n){},"7530f":function(t,e,n){"use strict";n("6cd9")},9945:function(t,e,n){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.match(/\[object (.*?)\]/)[1].toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t){if("string"!==i(t))throw new Error("[Sterilizer::init] params should be string");this._symbols={"`":"`","~":"~","!":"!","@":"@","#":"#",$:"\\$","%":"%","^":"\\^","&":"&","*":"\\*","-":"\\-",_:"_","=":"=","+":"+","(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","|":"\\|","\\":"\\\\","/":"/","?":"\\?",":":":",";":";","'":"'",'"':'"',">":">","<":"<",",":",",".":"\\."},this.symbols=Object.keys(this._symbols),this.regs=Object.values(this._symbols),this.str=t,this._str=t}toString(){return this._str}_detected(t){let e=i(t),n=["string","array","set"];if(!n.includes(e))throw new Error("[Sterilizer::remove] params should be string|array|set");return t}_sterilize(t){t=[...t].join("");let e=new RegExp(`[${t}]`,"gm");return this._str=this._str.replace(e,""),this}kill(t){let e=null;if(void 0==t)e=new Set(this.regs);else{this._detected(t),e=new Set;let n=new Set(t);for(let t of n)this.symbols.includes(t)&&e.add(this._symbols[t])}return this._sterilize(e)}live(t){this._detected(t);let e=new Set(this.regs);for(let n of t)this.symbols.includes(n)&&e.delete(this._symbols[n]);return this._sterilize(e)}safe(){return this.kill(["&","<",">",'"',"'","+",":","/","?","=","#","%"])}removeHSC(){return this.kill(["&","<",">",'"',"'"])}removeURL(){return this.kill(["+",":","/","?","=","&","#","%"])}removeSpace(){return this._str=this._str.replace(/\s/gm,""),this}remove(t,e){let n=new RegExp(""+t,"gm");return e=void 0!==e?e:"",this._str=this._str.replace(n,e),this}removeHTMLtag(){return this._str=this._str.replace(/<[^>]+>/gm,""),this}isDirty(t){return t?this.str.includes(t):this.symbols.some(t=>this.str.includes(t))}}function a(t){return new s(t)}class o{constructor(t,e){this.val=t,this.opt=e||{}}check(){try{if(1==this.opt.isOptional&&this.isOptional())return!0;for(let t in this.opt)if("isOptional"!=t&&!this[t](this.opt[t]))return!1;return!0}catch(t){console.error(t)}}isOptional(){let t=["",void 0,null];return!!t.includes(this.val)}is(t){if(!t instanceof RegExp)throw new Error("[Validator::is] param should be a RegExp");return t.test(this.val)}not(t){return!this.is(t)}len(t){let e=this.val.length;if("array"==i(t))return e>=t[0]&&e<=t[1];if("string"==i(t)||"number"==i(t))return e==t;throw new Error("[Validator::len] param should be array|string|number")}isIn(t){if("array"!=i(t))throw new Error("[Validator::isIn] param should be an array");return!!t.includes(this.val)}notIn(t){return!this.isIn(t)}isAlpha(t){return!t||/^[A-Z]+$/i.test(this.val)}isAlphanumeric(t){return!t||/^[A-Z0-9]+$/i.test(this.val)}isNumeric(t){return!t||/^[0-9]+$/.test(this.val)}isInt(t){return!t||/^(?:[-+]?(?:0|[1-9][0-9]*))$/.test(this.val)}isFloat(t){return!t||/^[-+]?[0-9]*\.?[0-9]+$/.test(this.val)}max(t){return this.val<=t}min(t){return this.val>=t}isChinese(t){return!t||/^[\u4e00-\u9fa5]+$/.test(this.val)}isIdentityCard(t){return!t||/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(this.val)}isMobilePhone(t){return!t||/^1[3456789]\d{9}$/.test(this.val)}isEmail(t){return!t||/^([A-Za-z0-9_\-\.\u4e00-\u9fa5])+@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,8})$/.test(this.val)}notEmpty(t){return!t||!/\s/gm.test(this.val)}}function r(t,e){const n=new o(t,e);return n.check()}e.Sterilizer=s,e.Validator=o,e.sterilizer=a,e.validator=r},a3a0:function(t,e,n){},a606:function(t,e,n){},c8d2:function(t,e,n){"use strict";var i=n("5e77").PROPER,s=n("d039"),a=n("5899"),o="​᠎";t.exports=function(t){return s((function(){return!!a[t]()||o[t]()!==o||i&&a[t].name!==t}))}},c944:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"g",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return c}));var i=n("41cb");function s(t){return Object(i["$next"])().get("/api/next2/userdata/messages",{params:t})}function a(t){return Object(i["$next"])().put("/api/next2/userdata/messages/read/".concat(t))}function o(){return Object(i["$next"])().put("/api/next2/userdata/messages/read")}function r(t){return Object(i["$next"])().delete("/api/next2/userdata/messages/".concat(t))}function c(){return Object(i["$next"])({mute:!0}).get("/api/next2/userdata/messages/unread_total")}function l(){return Object(i["$next"])({mute:!0}).get("/api/letter/unread/count")}function u(t){return Object(i["$next"])().get("/api/next2/comment/item/".concat(t))}},dc6f:function(t,e,n){"use strict";n("39dd")},eb1c:function(t,e,n){},fcca:function(t,e,n){"use strict";n("49ec")}}]);