(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c0d7039"],{"0aff":function(t,s,e){},"619f":function(t,s,e){},"8cc4":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("el-dialog",{attrs:{title:"切换地址",visible:t.show,width:"60%","custom-class":"m-goods-address","before-close":t.close,"append-to-body":""},on:{"update:visible":function(s){t.show=s}}},[t.list&&t.list.length?s("el-radio-group",{staticClass:"m-box",model:{value:t.id,callback:function(s){t.id=s},expression:"id"}},t._l(t.list,(function(e,i){return s("el-radio",{key:i,attrs:{label:e.id,border:""}},[s("div",{staticClass:"m-card"},[s("span",[t._v(t._s(e.contact_name))]),s("span",[t._v("电话："+t._s(e.contact_phone))]),s("span",[t._v("地址："+t._s(e.province)+t._s(e.city)+t._s(e.area)+t._s(e.address))])])])})),1):s("a",{staticClass:"m-card m-no-address",attrs:{href:"/dashboard/address",target:"_blank"}},[t._v(" 没有可切换的地址，点击管理地址 ")]),s("span",{staticClass:"m-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.close}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},a=[],n={name:"GoodsAddress",emits:["close"],props:["data","visible"],data:function(){return{show:!1,id:0}},computed:{list:function(){return this.$store.state.mallNew.addressList}},watch:{visible:function(t){this.show=t}},methods:{close:function(){this.show=!1,this.$emit("close")},submit:function(){this.$store.dispatch("mall/changeAddress",this.id),this.close()}},created:function(){this.$store.dispatch("mallNew/getAddressList"),this.$store.dispatch("mallNew/getMyAddress")}},o=n,c=(e("d87d"),e("2877")),r=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=r.exports},b6b9:function(t,s,e){"use strict";e("619f")},d87d:function(t,s,e){"use strict";e("0aff")},e594:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"m-page-order"},[t.windowWidth>750?s("div",{staticClass:"m-breadcrumb"},[s("span",{staticClass:"u-back",on:{click:t.goBack}},[s("i",{staticClass:"el-icon-arrow-left"}),t._v(" 返回")])]):t._e(),s("div",{staticClass:"m-goods el-card"},[s("img",{staticClass:"u-img",attrs:{src:t.item.goods_images[0]}}),s("div",{staticClass:"m-info"},[s("span",{staticClass:"u-title"},[t._v(t._s(t.item.title))]),s("div",{staticClass:"m-line"},[s("span",{staticClass:"u-span"},[t._v("兑换数量："+t._s(t.count)+"件")]),s("span",{staticClass:"u-span"},[t._v("邮费："+t._s(t.item.postage?t.item.postage/100+"元":"包邮"))])]),s("el-divider",{attrs:{"content-position":"left"}},[t._v("1. 兑换消耗")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.price_cny,expression:"item.price_cny"}]},[t._v("金箔： "),s("b",[t._v(t._s(t.item.price_cny*t.count))])]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.price_points,expression:"item.price_points"}]},[t._v("积分： "),s("b",[t._v(t._s(t.item.price_points*t.count))])]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.price_boxcoin,expression:"item.price_boxcoin"}]},[t._v("盒币： "),s("b",[t._v(t._s(t.item.price_boxcoin*t.count))])]),s("el-divider",{attrs:{"content-position":"left"}},[t._v("2. 选择地址")]),s("div",{staticClass:"m-address"},[s("div",{staticClass:"m-button"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-sort",size:"small"},on:{click:function(s){t.visible=!0}}},[t._v("切换地址")]),t._m(0)],1),t.address?[s("div",{staticClass:"u-my-address"},[t._m(1),s("span",{staticClass:"u-name"},[t._v(t._s(t.address.contact_name)+" - "+t._s(t.address.contact_phone)+" ")]),s("span",{staticClass:"u-address"},[t._v(" "+t._s(t.address.province)+t._s(t.address.city)+t._s(t.address.area)+t._s(t.address.address)+" ")])])]:s("div",[s("el-button",{attrs:{type:"success",icon:"el-icon-plus"}},[t._v("添加地址")])],1)],2),s("el-divider",{attrs:{"content-position":"left"}},[t._v("3. 备注")]),s("el-input",{attrs:{placeholder:"请输入备注",type:"textarea",rows:2},model:{value:t.remark,callback:function(s){t.remark=s},expression:"remark"}}),s("el-button",{staticClass:"u-button",attrs:{type:"primary"},on:{click:t.toBuy}},[t._v("确认订单")])],1)]),s("Address",{attrs:{visible:t.visible},on:{close:t.closeAddress}})],1)},a=[function(){var t=this,s=t._self._c;return s("a",{staticClass:"el-button el-button--warning el-button--small",attrs:{href:"/dashboard/address",target:"_blank"}},[s("i",{staticClass:"el-icon-setting"}),t._v(" 管理地址")])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"u-label"},[s("i",{staticClass:"el-icon-s-home"}),t._v(" 收货地址")])}],n=e("01ea"),o=e("8cc4"),c=e("2ef0"),r=e("015f"),d={name:"GoodsOrder",data:function(){return{active:null,remark:"",visible:!1,item:{}}},components:{Address:o["a"]},computed:{id:function(){return this.$route.params.id},count:function(){return this.$route.params.count||1},pay_status:function(){return this.$store.state.mall.pay_status},address:function(){return this.$store.state.mall.myAddress},windowWidth:function(){return window.innerWidth}},watch:{pay_status:function(t){if(t){this.$store.commit("toState",{pay_status:!1}),this.$router.go(-1);var s="".concat(n["c"],"dashboard/mall");window.open(s)}}},methods:{goBack:function(){this.$router.go(-1)},load:function(){this.$store.dispatch("mall/getMyAddress"),this.id&&this.getData()},showLevel:function(t){var s=1;return Object(c["forEach"])(n["o"],(function(e,i){t>=e[0]&&t<e[1]&&(s=i)})),s},toBuy:function(){this.$store.dispatch("mall/buyGoods",{id:this.id,count:this.count,addressId:this.address.id,remark:this.remark})},change:function(t){this.active=t},closeAddress:function(){this.visible=!1},getData:function(){var t=this;Object(r["d"])(this.id).then((function(s){t.item=s.data.data||{}}))}},mounted:function(){this.load()}},l=d,u=(e("b6b9"),e("2877")),m=Object(u["a"])(l,i,a,!1,null,null,null);s["default"]=m.exports}}]);