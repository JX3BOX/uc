(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17e658f3"],{"32f2":function(t){t.exports=JSON.parse('{"c":{"4":"改名卡","5":"盒币充值","7":"1年VIP高级会员","8":"1年PRO专业会员","9":"高级会员升级专业会员","10":"0.99铭牌促销活动","11":"铭牌标准售卖","12":"1个月VIP高级会员","13":"3个月VIP高级会员","14":"1个月PRO专业会员","15":"3个月PRO专业会员","16":"金箔"},"a":{"0":"待支付","1":"支付完成","2":"放弃支付","3":"订单过期放弃支付"},"b":{"alipay":"支付宝","wepay":"微信"}}')},"34cf":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("uc",{attrs:{icon:"el-icon-shopping-bag-1",title:"订单中心",tabList:t.tabList}},[e("div",{staticClass:"m-dashboard m-dashboard-work m-dashboard-orders"},[e("div",{staticClass:"m-dashboard-orders-cont"},[t.list&&t.list.length?e("div",{staticClass:"m-order-list"},[e("table",[e("thead",[e("th",[t._v("产品")]),e("th",[t._v("订单编号")]),e("th",[t._v("金额")]),e("th",[t._v("支付方式")]),e("th",[t._v("交易号")]),e("th",[t._v("交易状态")]),e("th",[t._v("订单创建时间")])]),e("tbody",t._l(t.list,(function(n,a){return e("tr",{key:a},[e("td",[t._v(t._s(t._f("showProduct")(n.product_id)))]),e("td",[t._v(t._s(n.id))]),e("td",[t._v("¥"+t._s(t._f("showPrice")(n.total_fee)))]),e("td",[t._v(t._s(t._f("showPayType")(n.pay_type)))]),e("td",[t._v(t._s(n.transaction_id))]),e("td",[t._v(t._s(t._f("showPayStatus")(n.pay_status)))]),e("td",[t._v(t._s(t._f("showTime")(n.created_time)))])])})),0)]),e("div",{staticClass:"m-order-pages"},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)]):e("div",{staticClass:"m-order-null"},[e("el-alert",{attrs:{title:"还有任何订单记录",type:"info","show-icon":""}})],1)])])])},o=[],c=(n("b680"),n("41cb"));function i(t){return Object(c["$pay"])().get("/api/order/list",{params:t})}var s=n("32f2"),r=n("e4f1"),u=n("5c97"),l=n("48c0"),d={name:"orders",components:{uc:l["a"]},props:[],data:function(){return{list:[],per:10,total:1,page:1,tabList:u["b"]}},computed:{params:function(){return{pageIndex:this.page,pageSize:this.per}}},methods:{loadData:function(){var t=this;i(this.params).then((function(e){t.list=e.data.data.list,t.total=e.data.data.page.total}))}},watch:{params:{deep:!0,immediate:!0,handler:function(){this.loadData()}}},filters:{showProduct:function(t){return s["c"][t]},showPayStatus:function(t){return s["a"][t]},showPayType:function(t){return s["b"][t]},showPrice:function(t){return t?(t/100).toFixed(2):"0.00"},showTime:r["c"]},mounted:function(){}},m=d,p=(n("4891"),n("2877")),f=Object(p["a"])(m,a,o,!1,null,"f1a4f6d0",null);e["default"]=f.exports},"39dd":function(t,e,n){},4891:function(t,e,n){"use strict";n("de0a")},"48c0":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-dashboard-profile m-profile"},[e("h2",{staticClass:"u-title"},[e("i",{class:t.icon}),t._v(" "+t._s(t.title)+" "),t._t("header")],2),e("tabs",{attrs:{tabs:t.tabList,"msg-change-count":t.msgChangeCount}}),t._t("default")],2)},o=[],c=(n("a9e3"),n("b0c0"),function(){var t=this,e=t._self._c;return e("el-tabs",{staticClass:"m-dashboard-tabs",on:{"tab-click":t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(n){return e("el-tab-pane",{key:n.name,attrs:{name:n.name}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"u-tab-icon",class:n.icon}),t._v(" "+t._s(n.label)+" "),t.showCount?e("span",{staticClass:"u-count",class:t.count[t.countMap[n.name]]?"is-orange":""},[t._v("("+t._s(t.count[t.countMap[n.name]]||0)+")")]):t._e()])])})),1)}),i=[],s=(n("caad"),n("14d9"),n("c944")),r={name:"",props:{tabs:{type:Array,default:function(){return[]}},msgChangeCount:{type:Number,default:0}},data:function(){return{active:"",countMap:{msg:"message",letter:"letter"},count:{message:0,letter:0}}},watch:{$route:function(){this.active=this.routeName},msgChangeCount:{immediate:!0,handler:function(t){t>0&&(this.count.message=0),t<0&&this.count.message>0&&(this.count.message+=t)}}},computed:{showCount:function(){return["msg","letter"].includes(this.routeName)},routeName:function(){return this.$route.name}},methods:{changeTab:function(){this.$router.push({name:this.active})},loadCount:function(){var t=this;Object(s["b"])().then((function(e){var n,a=(null===(n=e.data)||void 0===n?void 0:n.data)||{};t.count.letter=a.letter||0})),Object(s["c"])().then((function(e){var n;t.count.message=(null===(n=e.data.data)||void 0===n?void 0:n.unread_count)||0}))}},mounted:function(){this.active=this.routeName,this.showCount&&this.loadCount()},components:{}},u=r,l=n("2877"),d=Object(l["a"])(u,c,i,!1,null,null,null),m=d.exports,p=n("5c97"),f={name:"uc",props:{icon:{type:String,default:"el-icon-user"},title:{type:String,default:"我的资料"},tabList:{type:Array,default:function(){return p["d"]}},msgChangeCount:{type:Number,default:0}},data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{tabs:m}},h=f,b=(n("dc6f"),Object(l["a"])(h,a,o,!1,null,null,null));e["a"]=b.exports},"5c97":function(t){t.exports=JSON.parse('{"e":[{"name":"frame","icon":"el-icon-camera","label":"头像框"},{"name":"theme","icon":"el-icon-orange","label":"主题风格"},{"name":"honor","icon":"el-icon-collection-tag","label":"称号"},{"name":"medal","icon":"el-icon-medal","label":"勋章"},{"name":"emotion","icon":"el-icon-picture-outline-round","label":"表情包"}],"d":[{"name":"profile","icon":"el-icon-user","label":"基本资料"},{"name":"avatar","icon":"el-icon-camera","label":"修改头像"},{"name":"pwd","icon":"el-icon-lock","label":"修改密码"},{"name":"notice","icon":"el-icon-message","label":"通知中心"},{"name":"connect","icon":"el-icon-connection","label":"绑定账号"},{"name":"address","icon":"el-icon-map-location","label":"地址管理"},{"name":"auth","icon":"el-icon-s-check","label":"账号认证"}],"b":[{"name":"mall","icon":"el-icon-shopping-bag-1","label":"商城订单"},{"name":"orders","icon":"el-icon-shopping-bag-2","label":"系统订单"}],"c":[{"name":"msg","icon":"el-icon-message","label":"通知"},{"name":"letter","icon":"el-icon-chat-dot-square","label":"私信"}],"a":[{"name":"certification","icon":"el-icon-medal","label":"电子证书"},{"name":"holidayCard","icon":"el-icon-sugar","label":"节日贺卡"},{"name":"birthdayCard","icon":"el-icon-present","label":"生日贺卡"}]}')},c944:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return r}));var a=n("41cb");function o(t){return Object(a["$next"])().get("/api/next2/userdata/messages",{params:t})}function c(t){return Object(a["$next"])().put("/api/next2/userdata/messages/read/".concat(t))}function i(){return Object(a["$next"])().put("/api/next2/userdata/messages/read")}function s(t){return Object(a["$next"])().delete("/api/next2/userdata/messages/".concat(t))}function r(){return Object(a["$next"])({mute:!0}).get("/api/next2/userdata/messages/unread_total")}function u(){return Object(a["$next"])({mute:!0}).get("/api/letter/unread/count")}function l(t){return Object(a["$next"])().get("/api/next2/comment/item/".concat(t))}},dc6f:function(t,e,n){"use strict";n("39dd")},de0a:function(t,e,n){}}]);