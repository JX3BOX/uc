(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21251f0a"],{3891:function(t,n,e){"use strict";e.d(n,"f",(function(){return i})),e.d(n,"e",(function(){return s})),e.d(n,"h",(function(){return o})),e.d(n,"a",(function(){return c})),e.d(n,"g",(function(){return r})),e.d(n,"c",(function(){return u})),e.d(n,"b",(function(){return l})),e.d(n,"d",(function(){return d}));var a=e("41cb");function i(t){return Object(a["$next"])().get("/api/pvxbody/my-list",{params:t})}function s(t){return Object(a["$next"])().get("/api/pvxbody/".concat(t))}function o(t){return Object(a["$next"])().post("/api/pvxbody/file-upload",t)}function c(t){return Object(a["$next"])().post("/api/pvxbody",t)}function r(t,n){return Object(a["$next"])().put("/api/pvxbody/".concat(t),n)}function u(t){return Object(a["$next"])().put("/api/pvxbody/".concat(t,"/online"))}function l(t){return Object(a["$next"])().put("/api/pvxbody/".concat(t,"/offline"))}function d(t){return Object(a["$next"])().get("/api/charge_attachment/pvxbody/".concat(t,"/edit"))}},"627b":function(t,n,e){"use strict";e("9751")},9751:function(t,n,e){},b463:function(t,n,e){"use strict";e.r(n);e("ac1f"),e("841c");var a=function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-dashboard-work m-dashboard-cms"},[n("div",{staticClass:"m-dashboard-work-header"},[n("h2",{staticClass:"u-title"},[t._v("体型数据")]),n("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:t.publishLink}},[n("i",{staticClass:"el-icon-document"}),t._v(" 发布数据 ")])]),n("el-input",{staticClass:"m-dashboard-work-search",attrs:{placeholder:"请输入搜索内容"},model:{value:t.search,callback:function(n){t.search=n},expression:"search"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("关键词")]),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),n("div",{staticClass:"m-dashboard-box"},[t.data&&t.data.length?n("ul",{staticClass:"m-dashboard-box-list"},t._l(t.data,(function(e,a){return n("li",{key:a},[n("div",{staticClass:"u-header"},[1==e.status?n("i",{staticClass:"u-item-icon u-success-icon el-icon-success",attrs:{title:"上架中"}}):n("i",{staticClass:"u-item-icon u-remove-icon el-icon-remove",attrs:{title:"已下架"}}),n("a",{staticClass:"u-title",attrs:{target:"_blank",href:t.postLink(e.id)}},[t._v(t._s(e.title||"未命名"))])]),n("div",{staticClass:"u-desc"},[n("time",{staticClass:"u-desc-subitem"},[n("i",{staticClass:"el-icon-finished"}),t._v(" 发布 : "+t._s(e.created_at)+" ")]),n("time",{staticClass:"u-desc-subitem"},[n("i",{staticClass:"el-icon-refresh"}),t._v(" 更新 : "+t._s(e.updated_at)+" ")])]),n("el-button-group",{staticClass:"u-action"},[n("el-button",{attrs:{size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(n){return t.edit(e.id)}}}),1==e.status?n("el-button",{attrs:{size:"mini",icon:"el-icon-download",title:"下架"},on:{click:function(n){return t.handleOffline(e.id)}}}):n("el-button",{attrs:{size:"mini",icon:"el-icon-upload2",title:"上架"},on:{click:function(n){return t.handleOnline(e.id)}}})],1)],1)})),0):n("el-alert",{staticClass:"m-dashboard-box-null",attrs:{title:"没有找到相关条目",type:"info",center:"","show-icon":""}}),n("el-pagination",{staticClass:"m-dashboard-box-pages",attrs:{background:"","page-size":t.per,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(n){t.page=n},"update:current-page":function(n){t.page=n}}})],1)],1)},i=[],s=e("5530"),o=(e("d3b7"),e("3891")),c={name:"pvxBody",props:[],data:function(){return{loading:!1,data:[],total:1,page:1,per:10,search:""}},computed:{params:function(){return{pageIndex:this.page,pageSize:this.per,title:this.search}},publishLink:function(){return"./#/body"}},watch:{params:{deep:!0,immediate:!0,handler:function(t){this.loadPosts()}}},methods:{loadPosts:function(){var t=this;this.loading=!0;var n=Object(s["a"])({},this.params);Object(o["f"])(n).then((function(n){t.data=n.data.data.list,t.total=n.data.data.page.total})).finally((function(){t.loading=!1}))},edit:function(t){location.href="./#/body/"+t},postLink:function(t){return"/body/"+t},handleOnline:function(t){var n=this;Object(o["c"])(t).then((function(t){n.$message.success("上架成功"),n.loadPosts()}))},handleOffline:function(t){var n=this;this.$confirm("此操作将下架该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(t).then((function(t){n.$message.success("下架成功"),n.loadPosts()}))}))}}},r=c,u=(e("627b"),e("2877")),l=Object(u["a"])(r,a,i,!1,null,"466e370c",null);n["default"]=l.exports}}]);