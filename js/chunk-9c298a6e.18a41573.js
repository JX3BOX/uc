(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c298a6e"],{"0346":function(t,n,e){"use strict";e.r(n);e("b0c0");var a=function(){var t=this,n=t._self._c;return n("uc",{staticClass:"m-auth"},[n("div",{staticClass:"m-block"},[n("div",{domProps:{innerHTML:t._s(t.content)}})]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-dashboard-content-list"},t._l(t.oauth,(function(e){return n("div",{key:e,staticClass:"m-item"},[n("span",{staticClass:"u-profile-item"},[n("img",{class:"u-"+e,attrs:{"svg-inline":"",src:t.icon(e)}}),n("span",{staticClass:"u-status"},[t._v(" "+t._s(t.types[e].name)+" ")])]),"user_phone"!=e||"user_phone"==e&&t.level>=3?[t.checkStatus(e)?n("i",{staticClass:"el-icon-success u-bind"}):n("el-button",{staticClass:"u-button",attrs:{type:t.checkStatus(e)?"danger":"primary"},on:{click:function(n){return t.toBind(e)}}},[t._v(" 前往绑定 ")])]:t._e()],2)})),0)])},c=[],o=(e("14d9"),e("d3b7"),e("cc9a")),i=e("2d46"),u=e("b490"),r=e("48c0"),s=e("65c2"),l=e("c9d2"),d={wechat_mp_openid:{icon:"official",name:"微信公众号"},wechat_miniprogram_openid:{icon:"app",name:"微信小程序"},user_phone:{icon:"phone",name:"手机号"}},m={name:"auth",components:{uc:r["a"]},data:function(){return{content:"",data:{},oauth:["wechat_mp_openid","wechat_miniprogram_openid","user_phone"],types:d,loading:!1,info:{}}},computed:{level:function(){var t;return l["a"].getLevel((null===(t=this.info)||void 0===t?void 0:t.experience)||0)}},mounted:function(){var t=this;Object(o["b"])("auth_ac").then((function(n){t.content=n})),this.loadAuth(),this.loadUserInfo()},methods:{checkStatus:function(t){return!!this.data[t]},getNickname:function(t){return this.data[t+"_name"]||"已绑定"},icon:function(t){return s["__cdn"]+"design/user/"+d[t]["icon"]+".png"},loadAuth:function(){var t=this;this.loading=!0,Object(i["b"])().then((function(n){t.data=n.data.data})).finally((function(){t.loading=!1}))},toBind:function(t){var n={wechat_mp_openid:"notice",wechat_miniprogram_openid:"connect",user_phone:"notice"}[t];this.$router.push({name:n})},loadUserInfo:function(){var t=this;Object(u["b"])().then((function(n){t.info=n.data.data||{}}))}}},p=m,f=(e("6819"),e("2877")),b=Object(f["a"])(p,a,c,!1,null,null,null);n["default"]=b.exports},"254c":function(t,n,e){},"2d46":function(t,n,e){"use strict";e.d(n,"q",(function(){return r})),e.d(n,"e",(function(){return u})),e.d(n,"o",(function(){return s})),e.d(n,"p",(function(){return p})),e.d(n,"k",(function(){return h})),e.d(n,"a",(function(){return f})),e.d(n,"i",(function(){return b})),e.d(n,"l",(function(){return v})),e.d(n,"b",(function(){return g})),e.d(n,"r",(function(){return l})),e.d(n,"d",(function(){return d})),e.d(n,"g",(function(){return m})),e.d(n,"h",(function(){return O})),e.d(n,"n",(function(){return x})),e.d(n,"j",(function(){return $})),e.d(n,"s",(function(){return C})),e.d(n,"c",(function(){return y})),e.d(n,"f",(function(){return _})),e.d(n,"m",(function(){return j}));var a=e("41cb"),c=e("bc3a"),o=e.n(c),i=e("65c2");function u(){return Object(a["$cms"])().get("/api/cms/user/my/profile")}function r(t){return Object(a["$cms"])().put("/api/cms/user/my/profile",t)}function s(t){return Object(a["$cms"])().put("/api/cms/user/my/avatar",t)}function l(t){return Object(a["$cms"])().post("/api/cms/upload/avatar",t)}function d(){var t=i["__imgPath"]+"avatar/index.json";return o.a.get(t)}function m(t){return Object(a["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function p(t){return Object(a["$cms"])().put("/api/cms/user/my/password",t)}function f(t){return Object(a["$cms"])().get("/api/cms/user/account/email/valid",{params:{email:t}})}function b(t){return Object(a["$cms"])().post("/api/cms/user/account/email/bind",t)}function h(t){return Object(a["$cms"])().put("/api/cms/user/account/email/verify",{code:t},{app:"jx3box"})}function g(){return Object(a["$cms"])().get("/api/cms/account/oauth/status")}function v(t){return Object(a["$cms"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function _(){return Object(a["$next"])().get("/api/next2/qqbot/bind-token")}function j(){return Object(a["$next"])().delete("/api/next2/qqbot/bind-token")}function O(){return Object(a["$cms"])().get("/api/cms/wechat/mp/bind")}function x(){return Object(a["$cms"])().get("/api/cms/wechat/mp/unbind")}function $(t){return Object(a["$cms"])().post("/api/cms/account/oauth/phone/bind",t,{app:"jx3box"})}function C(t){return Object(a["$cms"])().put("/api/cms/account/oauth/phone/verify",t,{app:"jx3box"})}function y(t){return Object(a["$cms"])().get("/api/cms/account/oauth/phone/check",{params:t})}},"39dd":function(t,n,e){},"48c0":function(t,n,e){"use strict";var a=function(){var t=this,n=t._self._c;return n("div",{staticClass:"m-dashboard-profile m-profile"},[n("h2",{staticClass:"u-title"},[n("i",{class:t.icon}),t._v(" "+t._s(t.title)+" "),t._t("header")],2),n("tabs",{attrs:{tabs:t.tabList,"msg-change-count":t.msgChangeCount}}),t._t("default")],2)},c=[],o=(e("a9e3"),e("b0c0"),function(){var t=this,n=t._self._c;return n("el-tabs",{staticClass:"m-dashboard-tabs",on:{"tab-click":t.changeTab},model:{value:t.active,callback:function(n){t.active=n},expression:"active"}},t._l(t.tabs,(function(e){return n("el-tab-pane",{key:e.name,attrs:{name:e.name}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"u-tab-icon",class:e.icon}),t._v(" "+t._s(e.label)+" "),t.showCount?n("span",{staticClass:"u-count",class:t.count[t.countMap[e.name]]?"is-orange":""},[t._v("("+t._s(t.count[t.countMap[e.name]]||0)+")")]):t._e()])])})),1)}),i=[],u=(e("caad"),e("14d9"),e("c944")),r={name:"",props:{tabs:{type:Array,default:function(){return[]}},msgChangeCount:{type:Number,default:0}},data:function(){return{active:"",countMap:{msg:"message",letter:"letter"},count:{message:0,letter:0}}},watch:{$route:function(){this.active=this.routeName},msgChangeCount:{immediate:!0,handler:function(t){t>0&&(this.count.message=0),t<0&&this.count.message>0&&(this.count.message+=t)}}},computed:{showCount:function(){return["msg","letter"].includes(this.routeName)},routeName:function(){return this.$route.name}},methods:{changeTab:function(){this.$router.push({name:this.active})},loadCount:function(){var t=this;Object(u["b"])().then((function(n){var e,a=(null===(e=n.data)||void 0===e?void 0:e.data)||{};t.count.letter=a.letter||0})),Object(u["c"])().then((function(n){var e;t.count.message=(null===(e=n.data.data)||void 0===e?void 0:e.unread_count)||0}))}},mounted:function(){this.active=this.routeName,this.showCount&&this.loadCount()},components:{}},s=r,l=e("2877"),d=Object(l["a"])(s,o,i,!1,null,null,null),m=d.exports,p=e("5c97"),f={name:"uc",props:{icon:{type:String,default:"el-icon-user"},title:{type:String,default:"我的资料"},tabList:{type:Array,default:function(){return p["d"]}},msgChangeCount:{type:Number,default:0}},data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{tabs:m}},b=f,h=(e("dc6f"),Object(l["a"])(b,a,c,!1,null,null,null));n["a"]=h.exports},"5c97":function(t){t.exports=JSON.parse('{"e":[{"name":"frame","icon":"el-icon-camera","label":"头像框"},{"name":"theme","icon":"el-icon-orange","label":"主题风格"},{"name":"medal","icon":"el-icon-medal","label":"勋章"},{"name":"honor","icon":"el-icon-collection-tag","label":"称号"},{"name":"emotion","icon":"el-icon-picture-outline-round","label":"表情包"}],"d":[{"name":"profile","icon":"el-icon-user","label":"基本资料"},{"name":"avatar","icon":"el-icon-camera","label":"修改头像"},{"name":"pwd","icon":"el-icon-lock","label":"修改密码"},{"name":"notice","icon":"el-icon-message","label":"通知中心"},{"name":"connect","icon":"el-icon-connection","label":"绑定账号"},{"name":"address","icon":"el-icon-map-location","label":"地址管理"},{"name":"auth","icon":"el-icon-s-check","label":"账号认证"}],"b":[{"name":"mall","icon":"el-icon-shopping-bag-1","label":"商城订单"},{"name":"orders","icon":"el-icon-shopping-bag-2","label":"系统订单"}],"c":[{"name":"msg","icon":"el-icon-message","label":"通知"},{"name":"letter","icon":"el-icon-chat-dot-square","label":"私信"}],"a":[{"name":"certification","icon":"el-icon-medal","label":"电子证书"},{"name":"holidayCard","icon":"el-icon-sugar","label":"节日贺卡"},{"name":"birthdayCard","icon":"el-icon-present","label":"生日贺卡"}]}')},6819:function(t,n,e){"use strict";e("254c")},c944:function(t,n,e){"use strict";e.d(n,"d",(function(){return c})),e.d(n,"f",(function(){return o})),e.d(n,"e",(function(){return i})),e.d(n,"g",(function(){return u})),e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return l})),e.d(n,"c",(function(){return r}));var a=e("41cb");function c(t){return Object(a["$next"])().get("/api/next2/userdata/messages",{params:t})}function o(t){return Object(a["$next"])().put("/api/next2/userdata/messages/read/".concat(t))}function i(){return Object(a["$next"])().put("/api/next2/userdata/messages/read")}function u(t){return Object(a["$next"])().delete("/api/next2/userdata/messages/".concat(t))}function r(){return Object(a["$next"])({mute:!0}).get("/api/next2/userdata/messages/unread_total")}function s(){return Object(a["$next"])({mute:!0}).get("/api/letter/unread/count")}function l(t){return Object(a["$next"])().get("/api/next2/comment/item/".concat(t))}},dc6f:function(t,n,e){"use strict";e("39dd")}}]);