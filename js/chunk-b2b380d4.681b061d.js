(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2b380d4"],{"1a62":function(t,e,n){"use strict";n("90bd")},"2c6d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-pwd"},[e("div",{staticClass:"m-profile-pwd"},[t.status?e("form",{staticClass:"m-dashboard-pwd-doing"},[e("svg",{class:"u-pic",attrs:{height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M509.984 334.503a14.94 14.94 0 01-6.338 5.938l-32.32 15.981a15 15 0 01-14.149-.456L271.722 248.893c-16.227 12.244-35.316 19.908-55.809 22.322-24.735 2.915-49.24-2.143-70.864-14.628-54.916-31.706-73.798-102.177-42.093-157.093s102.177-73.798 157.093-42.093c21.624 12.485 38.257 31.177 48.1 54.056 8.156 18.955 11.063 39.318 8.573 59.493l68.939 39.802 31.449-2.028a14.998 14.998 0 0114.411 8.32l11.549 23.357 26.002-1.677a15 15 0 0115.043 9.791l26.962 73.301a14.994 14.994 0 01-1.093 12.687z",fill:"#fa9100"}}),e("path",{attrs:{d:"M343.493 464.426a14.942 14.942 0 01-8.458 1.974l-35.981-2.32a15 15 0 01-12.025-7.469L179.956 271.155c-20.175 2.49-40.538-.417-59.493-8.573-22.879-9.843-41.571-26.476-54.056-48.1C34.702 159.566 53.584 89.095 108.5 57.389s125.387-12.823 157.093 42.093c12.485 21.624 17.543 46.128 14.628 70.864-2.415 20.493-10.078 39.582-22.322 55.809l39.802 68.939 28.25 13.968a15 15 0 018.32 14.411l-1.677 26.002 23.357 11.549a15 15 0 018.132 16l-13.301 76.962a14.992 14.992 0 01-7.289 10.44z",fill:"#a76100"}}),e("path",{attrs:{d:"M114.991 512c-2.871 0-5.765-.822-8.312-2.52l-30-20A15 15 0 0170 477V262.854c-18.717-7.931-34.898-20.63-47.236-37.171C7.872 205.72 0 181.969 0 157 0 93.589 51.589 42 115 42s115 51.589 115 115c0 24.969-7.872 48.72-22.764 68.684-12.338 16.541-28.519 29.24-47.236 37.171v79.604l17.481 26.221a15 15 0 010 16.641L163.028 407l14.453 21.68a15 15 0 01-.958 17.923l-50 60A14.983 14.983 0 01114.991 512z",fill:"#ffe16e"}}),e("path",{attrs:{d:"M126.524 506.603l50-60a15.002 15.002 0 00.958-17.923L163.028 407l14.453-21.68a15 15 0 000-16.641L160 342.458v-79.604c18.717-7.931 34.898-20.63 47.236-37.171C222.129 205.72 230 181.969 230 157c0-63.411-51.589-115-115-115v470a14.987 14.987 0 0011.524-5.397z",fill:"#ff8e00"}}),e("path",{attrs:{d:"M100 117V15c0-8.284 6.716-15 15-15s15 6.716 15 15v102z",fill:"#00337a"}}),e("path",{attrs:{d:"M130 117V15c0-8.284-6.716-15-15-15v117z",fill:"#002659"}}),e("path",{attrs:{d:"M135 132H95c-8.284 0-15-6.716-15-15s6.716-15 15-15h40c8.284 0 15 6.716 15 15s-6.716 15-15 15z",fill:"#00429b"}}),e("path",{attrs:{d:"M135 102h-20v30h20c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#00337a"}})]),e("el-alert",{staticClass:"u-ac",attrs:{title:"请妥善保管",type:"warning",description:"未绑定邮箱用户将无法使用找回密码功能","show-icon":"",closable:!1}}),e("div",{staticClass:"u-pass"},[e("el-input",{staticClass:"u-text",attrs:{placeholder:"新密码","show-password":""},on:{change:t.checkPass},model:{value:t.pwd1,callback:function(e){t.pwd1=e},expression:"pwd1"}},[e("template",{slot:"prepend"},[e("svg",{class:"i-pass",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z"}})])])],2),e("div",{staticClass:"u-tip"},[e("el-alert",{directives:[{name:"show",rawName:"v-show",value:0==t.pass_validate,expression:"pass_validate == false"}],attrs:{title:t.pass_validate_tip,type:"error","show-icon":"",closable:!1}})],1)],1),e("div",{staticClass:"u-pass"},[e("el-input",{staticClass:"u-text",attrs:{placeholder:"重复密码","show-password":""},on:{input:t.checkPass},model:{value:t.pwd2,callback:function(e){t.pwd2=e},expression:"pwd2"}},[e("template",{slot:"prepend"},[e("svg",{class:"i-pass",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z"}})])])],2),e("div",{staticClass:"u-tip"},[e("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.pwd2&&0==t.accordance,expression:"pwd2 && accordance == false"}],attrs:{title:t.pass_accordance_tip,type:"error","show-icon":"",closable:!1}})],1)],1),e("el-button",{staticClass:"u-submit u-button",attrs:{type:"primary",disabled:!t.ready},on:{click:t.done}},[t._v("提交")])],1):e("div",{staticClass:"m-dashboard-pwd-done"},[e("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M256 0C115.3 0 0 115.3 0 256s115.3 256 256 256 256-115.3 256-256S396.7 0 256 0z",fill:"#7d0"}}),e("path",{attrs:{d:"M512 256c0 140.7-115.3 256-256 256V0c140.7 0 256 115.3 256 256z",fill:"#6b0"}}),e("path",{attrs:{fill:"#e7e7e7",d:"M401.8 212.5L226 388.299l-126.301-126 42.602-42.6 83.699 84 30-30L359.5 170.2z"}}),e("path",{attrs:{fill:"#d3d3d8",d:"M401.8 212.5L256 358.299v-84.6L359.5 170.2z"}})]),e("p",[t._v("修改成功")]),e("el-button",{staticClass:"u-submit u-button",attrs:{type:"primary"},on:{click:t.reset}},[t._v("返回")])],1)])])},s=[],i=n("48c0"),r=n("9945"),c=n("c9d2"),o=n("2d46"),l={name:"pwd",props:[],data:function(){return{pwd1:"",pwd2:"",pass_validate:null,pass_validate_tip:"密码有效长度为6-50个字符",pass_accordance_tip:"两次密码不一致",status:!0}},computed:{accordance:function(){return this.pwd1===this.pwd2},ready:function(){return this.pass_validate&&this.accordance}},methods:{checkPass:function(){""==this.pwd1&&(this.pass_validate=null),this.pass_validate=Object(r["validator"])(this.pwd1,{len:[6,50]})},done:function(){var t=this;Object(o["p"])({password:this.pwd1}).then((function(e){t.$message({message:"密码修改成功",type:"success"}),t.status=!1,c["a"].destroy().then((function(){c["a"].toLogin()}))}))},reset:function(){this.status=!0}},mounted:function(){},components:{uc:i["a"]}},u=l,d=(n("1a62"),n("2877")),p=Object(d["a"])(u,a,s,!1,null,null,null);e["default"]=p.exports},"2d46":function(t,e,n){"use strict";n.d(e,"q",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return h})),n.d(e,"k",(function(){return b})),n.d(e,"a",(function(){return m})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return g})),n.d(e,"b",(function(){return v})),n.d(e,"r",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return x})),n.d(e,"n",(function(){return y})),n.d(e,"j",(function(){return C})),n.d(e,"s",(function(){return j})),n.d(e,"c",(function(){return O})),n.d(e,"f",(function(){return w})),n.d(e,"m",(function(){return _}));var a=n("41cb"),s=n("bc3a"),i=n.n(s),r=n("65c2");function c(){return Object(a["$cms"])().get("/api/cms/user/my/profile")}function o(t){return Object(a["$cms"])().put("/api/cms/user/my/profile",t)}function l(t){return Object(a["$cms"])().put("/api/cms/user/my/avatar",t)}function u(t){return Object(a["$cms"])().post("/api/cms/upload/avatar",t)}function d(){var t=r["__imgPath"]+"avatar/index.json";return i.a.get(t)}function p(t){return Object(a["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function h(t){return Object(a["$cms"])().put("/api/cms/user/my/password",t)}function m(t){return Object(a["$cms"])().get("/api/cms/user/account/email/valid",{params:{email:t}})}function f(t){return Object(a["$cms"])().post("/api/cms/user/account/email/bind",t)}function b(t){return Object(a["$cms"])().put("/api/cms/user/account/email/verify",{code:t},{app:"jx3box"})}function v(){return Object(a["$cms"])().get("/api/cms/account/oauth/status")}function g(t){return Object(a["$cms"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function w(){return Object(a["$next"])().get("/api/next2/qqbot/bind-token")}function _(){return Object(a["$next"])().delete("/api/next2/qqbot/bind-token")}function x(){return Object(a["$cms"])().get("/api/cms/wechat/mp/bind")}function y(){return Object(a["$cms"])().get("/api/cms/wechat/mp/unbind")}function C(t){return Object(a["$cms"])().post("/api/cms/account/oauth/phone/bind",t,{app:"jx3box"})}function j(t){return Object(a["$cms"])().put("/api/cms/account/oauth/phone/verify",t,{app:"jx3box"})}function O(t){return Object(a["$cms"])().get("/api/cms/account/oauth/phone/check",{params:t})}},"39dd":function(t,e,n){},"48c0":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-dashboard-profile m-profile"},[e("h2",{staticClass:"u-title"},[e("i",{class:t.icon}),t._v(" "+t._s(t.title)+" "),t._t("header")],2),e("tabs",{attrs:{tabs:t.tabList,"msg-change-count":t.msgChangeCount}}),t._t("default")],2)},s=[],i=(n("a9e3"),n("b0c0"),function(){var t=this,e=t._self._c;return e("el-tabs",{staticClass:"m-dashboard-tabs",on:{"tab-click":t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(n){return e("el-tab-pane",{key:n.name,attrs:{name:n.name}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"u-tab-icon",class:n.icon}),t._v(" "+t._s(n.label)+" "),t.showCount?e("span",{staticClass:"u-count",class:t.count[t.countMap[n.name]]?"is-orange":""},[t._v("("+t._s(t.count[t.countMap[n.name]]||0)+")")]):t._e()])])})),1)}),r=[],c=(n("caad"),n("14d9"),n("c944")),o={name:"",props:{tabs:{type:Array,default:function(){return[]}},msgChangeCount:{type:Number,default:0}},data:function(){return{active:"",countMap:{msg:"message",letter:"letter"},count:{message:0,letter:0}}},watch:{$route:function(){this.active=this.routeName},msgChangeCount:{immediate:!0,handler:function(t){t>0&&(this.count.message=0),t<0&&this.count.message>0&&(this.count.message+=t)}}},computed:{showCount:function(){return["msg","letter"].includes(this.routeName)},routeName:function(){return this.$route.name}},methods:{changeTab:function(){this.$router.push({name:this.active})},loadCount:function(){var t=this;Object(c["b"])().then((function(e){var n,a=(null===(n=e.data)||void 0===n?void 0:n.data)||{};t.count.letter=a.letter||0})),Object(c["c"])().then((function(e){var n;t.count.message=(null===(n=e.data.data)||void 0===n?void 0:n.unread_count)||0}))}},mounted:function(){this.active=this.routeName,this.showCount&&this.loadCount()},components:{}},l=o,u=n("2877"),d=Object(u["a"])(l,i,r,!1,null,null,null),p=d.exports,h=n("5c97"),m={name:"uc",props:{icon:{type:String,default:"el-icon-user"},title:{type:String,default:"我的资料"},tabList:{type:Array,default:function(){return h["d"]}},msgChangeCount:{type:Number,default:0}},data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{tabs:p}},f=m,b=(n("dc6f"),Object(u["a"])(f,a,s,!1,null,null,null));e["a"]=b.exports},"5c97":function(t){t.exports=JSON.parse('{"e":[{"name":"frame","icon":"el-icon-camera","label":"头像框"},{"name":"theme","icon":"el-icon-orange","label":"主题风格"},{"name":"medal","icon":"el-icon-medal","label":"勋章"},{"name":"honor","icon":"el-icon-collection-tag","label":"称号"},{"name":"emotion","icon":"el-icon-picture-outline-round","label":"表情包"}],"d":[{"name":"profile","icon":"el-icon-user","label":"基本资料"},{"name":"avatar","icon":"el-icon-camera","label":"修改头像"},{"name":"pwd","icon":"el-icon-lock","label":"修改密码"},{"name":"notice","icon":"el-icon-message","label":"通知中心"},{"name":"connect","icon":"el-icon-connection","label":"绑定账号"},{"name":"address","icon":"el-icon-map-location","label":"地址管理"},{"name":"auth","icon":"el-icon-s-check","label":"账号认证"}],"b":[{"name":"mall","icon":"el-icon-shopping-bag-1","label":"商城订单"},{"name":"orders","icon":"el-icon-shopping-bag-2","label":"系统订单"}],"c":[{"name":"msg","icon":"el-icon-message","label":"通知"},{"name":"letter","icon":"el-icon-chat-dot-square","label":"私信"}],"a":[{"name":"certification","icon":"el-icon-medal","label":"电子证书"},{"name":"holidayCard","icon":"el-icon-sugar","label":"节日贺卡"},{"name":"birthdayCard","icon":"el-icon-present","label":"生日贺卡"}]}')},"90bd":function(t,e,n){},9945:function(t,e,n){"use strict";function a(t){var e=Object.prototype.toString.call(t);return e.match(/\[object (.*?)\]/)[1].toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t){if("string"!==a(t))throw new Error("[Sterilizer::init] params should be string");this._symbols={"`":"`","~":"~","!":"!","@":"@","#":"#",$:"\\$","%":"%","^":"\\^","&":"&","*":"\\*","-":"\\-",_:"_","=":"=","+":"+","(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","|":"\\|","\\":"\\\\","/":"/","?":"\\?",":":":",";":";","'":"'",'"':'"',">":">","<":"<",",":",",".":"\\."},this.symbols=Object.keys(this._symbols),this.regs=Object.values(this._symbols),this.str=t,this._str=t}toString(){return this._str}_detected(t){let e=a(t),n=["string","array","set"];if(!n.includes(e))throw new Error("[Sterilizer::remove] params should be string|array|set");return t}_sterilize(t){t=[...t].join("");let e=new RegExp(`[${t}]`,"gm");return this._str=this._str.replace(e,""),this}kill(t){let e=null;if(void 0==t)e=new Set(this.regs);else{this._detected(t),e=new Set;let n=new Set(t);for(let t of n)this.symbols.includes(t)&&e.add(this._symbols[t])}return this._sterilize(e)}live(t){this._detected(t);let e=new Set(this.regs);for(let n of t)this.symbols.includes(n)&&e.delete(this._symbols[n]);return this._sterilize(e)}safe(){return this.kill(["&","<",">",'"',"'","+",":","/","?","=","#","%"])}removeHSC(){return this.kill(["&","<",">",'"',"'"])}removeURL(){return this.kill(["+",":","/","?","=","&","#","%"])}removeSpace(){return this._str=this._str.replace(/\s/gm,""),this}remove(t,e){let n=new RegExp(""+t,"gm");return e=void 0!==e?e:"",this._str=this._str.replace(n,e),this}removeHTMLtag(){return this._str=this._str.replace(/<[^>]+>/gm,""),this}isDirty(t){return t?this.str.includes(t):this.symbols.some(t=>this.str.includes(t))}}function i(t){return new s(t)}class r{constructor(t,e){this.val=t,this.opt=e||{}}check(){try{if(1==this.opt.isOptional&&this.isOptional())return!0;for(let t in this.opt)if("isOptional"!=t&&!this[t](this.opt[t]))return!1;return!0}catch(t){console.error(t)}}isOptional(){let t=["",void 0,null];return!!t.includes(this.val)}is(t){if(!t instanceof RegExp)throw new Error("[Validator::is] param should be a RegExp");return t.test(this.val)}not(t){return!this.is(t)}len(t){let e=this.val.length;if("array"==a(t))return e>=t[0]&&e<=t[1];if("string"==a(t)||"number"==a(t))return e==t;throw new Error("[Validator::len] param should be array|string|number")}isIn(t){if("array"!=a(t))throw new Error("[Validator::isIn] param should be an array");return!!t.includes(this.val)}notIn(t){return!this.isIn(t)}isAlpha(t){return!t||/^[A-Z]+$/i.test(this.val)}isAlphanumeric(t){return!t||/^[A-Z0-9]+$/i.test(this.val)}isNumeric(t){return!t||/^[0-9]+$/.test(this.val)}isInt(t){return!t||/^(?:[-+]?(?:0|[1-9][0-9]*))$/.test(this.val)}isFloat(t){return!t||/^[-+]?[0-9]*\.?[0-9]+$/.test(this.val)}max(t){return this.val<=t}min(t){return this.val>=t}isChinese(t){return!t||/^[\u4e00-\u9fa5]+$/.test(this.val)}isIdentityCard(t){return!t||/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(this.val)}isMobilePhone(t){return!t||/^1[3456789]\d{9}$/.test(this.val)}isEmail(t){return!t||/^([A-Za-z0-9_\-\.\u4e00-\u9fa5])+@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,8})$/.test(this.val)}notEmpty(t){return!t||!/\s/gm.test(this.val)}}function c(t,e){const n=new r(t,e);return n.check()}e.Sterilizer=s,e.Validator=r,e.sterilizer=i,e.validator=c},c944:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return o}));var a=n("41cb");function s(t){return Object(a["$next"])().get("/api/next2/userdata/messages",{params:t})}function i(t){return Object(a["$next"])().put("/api/next2/userdata/messages/read/".concat(t))}function r(){return Object(a["$next"])().put("/api/next2/userdata/messages/read")}function c(t){return Object(a["$next"])().delete("/api/next2/userdata/messages/".concat(t))}function o(){return Object(a["$next"])({mute:!0}).get("/api/next2/userdata/messages/unread_total")}function l(){return Object(a["$next"])({mute:!0}).get("/api/letter/unread/count")}function u(t){return Object(a["$next"])().get("/api/next2/comment/item/".concat(t))}},dc6f:function(t,e,n){"use strict";n("39dd")}}]);