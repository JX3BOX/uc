(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd19e37c"],{"01ea":function(t,e,n){"use strict";n.d(e,"k",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"q",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"m",(function(){return m})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return _})),n.d(e,"l",(function(){return g})),n.d(e,"r",(function(){return h})),n.d(e,"d",(function(){return x})),n.d(e,"i",(function(){return v})),n.d(e,"n",(function(){return w})),n.d(e,"o",(function(){return b})),n.d(e,"p",(function(){return y})),n.d(e,"a",(function(){return T})),n.d(e,"t",(function(){return S}));var r=n("5530"),a=n("65c2"),i=Object(r["a"])(Object(r["a"])({},a),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),o=i.__imgPath,c=i.__dataPath,u=i.__iconPath,s=i.__cms,d=(i.__down,i.__node,i.__ossMirror,i.__ossRoot,i.__visibleMap),f=(i.default_avatar,i.__Root),p=i.__OriginRoot,m=(i.__Github,i.__Preview,i.__server),l=(i.__sso,i.__spider,i.__spider2,i.__next,i.__pay,i.__team,i.__lua,i.__dbm,i.__helperUrl,i.__os,i.__jx3,i.__cdn),_=(i.__staticPath,i.__clients),g=i.__postType,h=i.__wikiType,x=i.__appType,v=i.__gameType,w=(i.__sourceType,i.__userGroup),b=i.__userLevel,y=i.__userLevelColor,T=i.__Links,S=i.feedback;e["s"]=i},"0844":function(t,e,n){"use strict";n("9c0f")},"0ccb":function(t,e,n){"use strict";var r=n("e330"),a=n("50c4"),i=n("577e"),o=n("1148"),c=n("1d80"),u=r(o),s=r("".slice),d=Math.ceil,f=function(t){return function(e,n,r){var o,f,p=i(c(e)),m=a(n),l=p.length,_=void 0===r?" ":i(r);return m<=l||""===_?p:(o=m-l,f=u(_,d(o/_.length)),f.length>o&&(f=s(f,0,o)),t?p+f:f+p)}};t.exports={start:f(!1),end:f(!0)}},"305d":function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return _}));var r=n("41cb"),a=n("bc3a"),i=n.n(a),o=n("01ea");function c(t){return Object(r["$cms"])().get("/api/cms/posts",{params:t})}function u(t){return Object(r["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{nocache:1}})}function s(t){return Object(r["$cms"])().get("/api/cms/app/pz",{params:t})}function d(t){return Object(r["$cms"])().get("/api/cms/post/jokes",{params:t})}function f(t){return Object(r["$cms"])().get("/api/cms/post/emotions",{params:t})}function p(t){return Object(r["$cms"])().get("/api/cms/user/decoration",{params:t})}function m(){var t=o["e"]+"design/decoration/index.json";return i.a.get(t)}function l(t){return Object(r["$cms"])().get("/api/cms/dbm/pkg",{params:t})}function _(t){return Object(r["$team"])().get("/api/team/team-certification-record/item/".concat(t))}},"4d90":function(t,e,n){"use strict";var r=n("23e7"),a=n("0ccb").start,i=n("9a0c");r({target:"String",proto:!0,forced:i},{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"6cc8":function(t){t.exports=JSON.parse('{"101":"天策","102":"万花","103":"纯阳","104":"七秀","105":"少林","106":"藏剑","107":"丐帮","108":"明教","109":"五毒","110":"唐门","118":"苍云","119":"长歌","120":"霸刀","121":"蓬莱","122":"凌雪","123":"衍天","124":"药宗","126":"刀宗","129":"万灵"}')},"735d":function(t,e,n){t.exports=n.p+"img/bg.75886ea8.png"},8559:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("AppLayout",[e("div",{staticClass:"m-main"},[e("el-image",{staticClass:"u-img",attrs:{fit:"contain",src:t.treasureImg,"preview-src-list":[t.treasureImg]}}),e("button",{staticClass:"u-btn m-hide el-button el-button--primary",on:{click:t.print}},[t._v("打印证书")]),e("canvas",{ref:"canvas",attrs:{id:"canvas"}})],1)])},a=[],i=(n("14d9"),n("d3b7"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("01ea"),n("c6d4")),o=n("6cc8"),c=n("305d"),u={name:"Author",components:{AppLayout:i["a"]},props:[],data:function(){return{drawCtx:{},treasureImg:"",treasureInfo:!1,contentData:{},tianTuanCertificateCode:o}},computed:{id:function(){return this.$route.params.id}},watch:{id:{immediate:!0,handler:function(t){t?this.load():this.$router.push({name:"index"})}}},methods:{load:function(){var t=this;this.id&&Object(c["a"])(this.id).then((function(e){t.contentData=e.data.data,t.draw()}))},draw:function(){var t=this,e=document.getElementById("canvas"),r=e.getContext("2d");this.drawCtx=r,this.$refs.canvas.width=1520,this.$refs.canvas.height=1060;var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.src=n("735d"),a.onload=function(){t.drawImg(a,0,0,1520,1060),t.drawText(r,{type:"text",content:t.contentData.team_certificate.team_name,style:{textAlign:"center",fontSize:36,left:712,top:479,color:"#756538"}}),t.drawText(r,{type:"text",content:t.tianTuanCertificateCode[t.contentData.team_certificate.sort_no],style:{textAlign:"center",fontSize:36,left:981,top:545,color:"#756538"}}),t.drawText(r,{type:"text",content:t.contentData.team_certificate.teammate,key:"team",style:{textAlign:"left",fontSize:17,left:262,top:640,color:"#756538",width:996,height:27}}),t.drawText(r,{type:"text",content:"剑网3魔盒门派天团赛事组",style:{textAlign:"right",fontSize:28,left:1257,top:810,color:"#000000"}}),t.drawText(r,{type:"text",content:t.formatTimeString("yyyy年MM月dd日",t.contentData.team_certificate.time),style:{textAlign:"right",fontSize:28,left:1257,top:850,color:"#000000"}}),t.canvasExport()}},loadDrawImage:function(t){var e=new Image;return e.setAttribute("crossOrigin","anonymous"),e.src=n("d25a")(t),new Promise((function(t,n){e.onload=function(){t(e)}}))},drawImg:function(t,e,n,r,a){this.drawCtx.drawImage(t,e,n,r,a)},drawText:function(t,e){var n=e.style;t.font="".concat(n.fontSize,"px Arial"),t.textAlign=n.textAlign,t.fillStyle=n.color,"team"!=e.key?t.fillText(e.content,n.left,n.top):this.drawWrappedText(t,e.content,n)},drawWrappedText:function(t,e,n){for(var r=e.split(";"),a="",i=0;i<r.length;i++){var o=r[i].split(",")[0],c=a+o,u=t.measureText(c),s=u.width;s>n.width&&i>0?(t.fillText(a,n.left,n.top),a=o+="，",n.top+=n.height):(c+="，",a=c)}t.fillText(a,n.left,n.top)},canvasExport:function(){var t=this;clearTimeout(this.exportImgTime);var e=document.getElementById("canvas");this.exportImgTime=setTimeout((function(){t.treasureImg=e.toDataURL("image/png")}),100)},formatTimeString:function(t,e){var n=new Date(e),r=n.getFullYear(),a=(n.getMonth()+1).toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0"),o=n.getHours().toString().padStart(2,"0"),c=n.getMinutes().toString().padStart(2,"0"),u=n.getSeconds().toString().padStart(2,"0");return t=t.replace(/yyyy/,r).replace(/MM/,a).replace(/dd/,i).replace(/hh/,o).replace(/mm/,c).replace(/ss/,u),t},print:function(){window.print()}}},s=u,d=(n("0844"),n("2877")),f=Object(d["a"])(s,r,a,!1,null,"53c06ac7",null);e["default"]=f.exports},"9a0c":function(t,e,n){"use strict";var r=n("b5db");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},"9c0f":function(t,e,n){},c6d4:function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("Header"),t._t("default")],2)},a=[],i={name:"AppLayout",components:{},props:[],data:function(){return{}},computed:{},created:function(){},methods:{}},o=i,c=n("2877"),u=Object(c["a"])(o,r,a,!1,null,null,null);e["a"]=u.exports},d25a:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="d25a"}}]);