(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-040f1d88"],{"41a2":function(t,n,c){"use strict";c.r(n);var i=function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-publish-box"},[n("publish-header",{attrs:{name:"".concat(t.getContent(t.data))}}),n("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[n("div",{staticClass:"m-publish-content"},[n("el-divider",{attrs:{"content-position":"left"}},[t._v("回帖内容")]),n("Tinymce",{attrs:{attachmentEnable:!0,resourceEnable:!0},model:{value:t.data.content,callback:function(n){t.$set(t.data,"content",n)},expression:"data.content"}})],1),n("div",{staticClass:"m-publish-buttons"},[n("el-button",{attrs:{type:"primary",disabled:t.processing},on:{click:t.onSubmit}},[t._v("更    新")])],1)])],1)},e=[],o=(c("fb6a"),c("d3b7"),c("221a")),a=c("ba82"),u=c("a8b8"),r=c("2ef0"),s={name:"community_reply",components:{Tinymce:o["a"],"publish-header":a["a"]},computed:{id:function(){return this.$route.params.id}},data:function(){return{data:{content:""},loading:!1,processing:!1,from:""}},watch:{$route:{immediate:!0,deep:!0,handler:function(){var t,n=null===(t=this.$route.query)||void 0===t?void 0:t.from;n&&(this.from=n),this.loadData()}}},methods:{loadData:function(){var t=this;this.loading=!0;var n="admin"===this.from?u["d"]:u["h"];n(this.id).then((function(n){t.data=n.data.data})).finally((function(){t.loading=!1}))},onSubmit:function(){var t=this;this.processing=!0;var n=Object(r["pick"])(this.data,["content"]),c="admin"===this.from?u["p"]:u["q"];c(this.id,n).then((function(){t.$message({message:"更新回帖成功",type:"success"}),setTimeout((function(){var n;location.href="/community/".concat(null===(n=t.data)||void 0===n?void 0:n.topic_id)}),500)})).finally((function(){t.processing=!1}))},getContent:function(t){var n,c,i=null===t||void 0===t||null===(n=t.topic)||void 0===n||null===(c=n.title)||void 0===c?void 0:c.slice(0,30);return i?"回复：".concat(i):""}}},m=s,d=c("2877"),l=Object(d["a"])(m,i,e,!1,null,null,null);n["default"]=l.exports},a8b8:function(t,n,c){"use strict";c.d(n,"m",(function(){return o})),c.d(n,"g",(function(){return r})),c.d(n,"e",(function(){return l})),c.d(n,"a",(function(){return s})),c.d(n,"k",(function(){return m})),c.d(n,"n",(function(){return a})),c.d(n,"i",(function(){return f})),c.d(n,"h",(function(){return p})),c.d(n,"c",(function(){return y})),c.d(n,"q",(function(){return b})),c.d(n,"f",(function(){return v})),c.d(n,"b",(function(){return x})),c.d(n,"l",(function(){return d})),c.d(n,"o",(function(){return u})),c.d(n,"j",(function(){return $})),c.d(n,"d",(function(){return h})),c.d(n,"p",(function(){return g}));c("99af");var i=c("41cb"),e="/api/next2";function o(t){return Object(i["$next"])().post("".concat(e,"/community/discussion/topic"),t)}function a(t,n){return Object(i["$next"])().put("".concat(e,"/community/discussion/my/topic/item/").concat(t),n)}function u(t,n){return Object(i["$next"])().put("".concat(e,"/community/discussion/manage/topic/item/").concat(t,"/update"),n)}function r(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/my/topic/list"),{params:t})}function s(t){return Object(i["$next"])().delete("".concat(e,"/community/discussion/my/topic/item/").concat(t))}function m(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/my/topic/item/").concat(t))}function d(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/manage/topic/item/").concat(t))}function l(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/topic/list"),{params:t})}function f(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/my/reply/list"),{params:t})}function p(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/my/reply/item/").concat(t))}function y(t){return Object(i["$next"])().delete("".concat(e,"/community/discussion/my/reply/item/").concat(t))}function b(t,n){return Object(i["$next"])().put("".concat(e,"/community/discussion/my/reply/item/").concat(t),n)}function h(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/manage/reply/item/").concat(t))}function g(t,n){return Object(i["$next"])().put("".concat(e,"/community/discussion/manage/reply/item/").concat(t,"/update"),n)}function v(t){return Object(i["$next"])().get("".concat(e,"/community/discussion/my/comment/list"),{params:t})}function x(t){return Object(i["$next"])().delete("".concat(e,"/community/discussion/my/comment/item/").concat(t))}function $(t,n){var c=t.id,o=t.category,a=t.subcategory,u=void 0===a?"default":a;return Object(i["$next"])().get("".concat(e,"/userdata/common-read-history/").concat(o,"/").concat(u,"/").concat(c),{params:n})}}}]);