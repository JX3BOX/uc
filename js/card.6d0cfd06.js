(function(t){function n(n){for(var a,o,c=n[0],r=n[1],u=n[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(e,o)&&e[o]&&m.push(e[o][0]),e[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(n);while(m.length)m.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,n=0;n<s.length;n++){for(var i=s[n],a=!0,c=1;c<i.length;c++){var r=i[c];0!==e[r]&&(a=!1)}a&&(s.splice(n--,1),t=o(o.s=i[0]))}return t}var a={},e={card:0},s=[];function o(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,n,i){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)o.d(i,a,function(n){return t[n]}.bind(null,a));return i},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="https://cdn.jx3box.com/static/uc/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=r;s.push([11,"chunk-vendors","chunk-common"]),i()})({"05ae":function(t,n,i){"use strict";i("3553")},"076f":function(t,n,i){"use strict";i("6025")},"0948":function(t,n,i){"use strict";i("abf9")},"0bb4":function(t,n,i){"use strict";i("22da")},"0d9e":function(t,n,i){},11:function(t,n,i){t.exports=i("3397c")},"17ea":function(t,n,i){"use strict";i("4261")},"1f25":function(t,n,i){},"22da":function(t,n,i){},"25b6":function(t,n,i){},"27b6":function(t,n,i){"use strict";i("627e")},"305d":function(t,n,i){"use strict";i.d(n,"e",(function(){return c})),i.d(n,"g",(function(){return r})),i.d(n,"i",(function(){return u})),i.d(n,"h",(function(){return l})),i.d(n,"f",(function(){return d})),i.d(n,"c",(function(){return m})),i.d(n,"d",(function(){return g})),i.d(n,"b",(function(){return h})),i.d(n,"a",(function(){return p}));var a=i("41cb"),e=i("bc3a"),s=i.n(e),o=i("01ea");function c(t){return Object(a["$cms"])().get("/api/cms/posts",{params:t})}function r(t){return Object(a["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{nocache:1}})}function u(t){return Object(a["$cms"])().get("/api/cms/app/pz",{params:t})}function l(t){return Object(a["$cms"])().get("/api/cms/post/jokes",{params:t})}function d(t){return Object(a["$cms"])().get("/api/cms/post/emotions",{params:t})}function m(t){return Object(a["$cms"])().get("/api/cms/user/decoration",{params:t})}function g(){var t=o["e"]+"design/decoration/index.json";return s.a.get(t)}function h(t){return Object(a["$cms"])().get("/api/cms/dbm/pkg",{params:t})}function p(t){return Object(a["$team"])().get("/api/team/team-certification-record/item/".concat(t))}},"30eb":function(t,n,i){"use strict";i.r(n);var a=function(){var t=this,n=t._self._c;return n("HeaderLessLayout",[n("div",{staticClass:"m-main m-index-popup"},[n(t.event_component,{tag:"component",attrs:{data:t.component_data},on:{close:t.close}})],1)])},e=[],s=(i("99af"),i("7db0"),i("d81d"),i("e9f5"),i("f665"),i("ab43"),i("d3b7"),i("2ef0")),o=i("01ea"),c=i("93e0"),r=i("618a");function u(t){return Object(r["c"])().get("/api/event/trigger/history",{params:t})}var l=function(){var t=this,n=t._self._c;return n("div",[t._t("default")],2)},d=[],m={name:"HeaderLessLayout",components:{},props:[],data:function(){return{}},computed:{},created:function(){},methods:{}},g=m,h=i("2877"),p=Object(h["a"])(g,l,d,!1,null,null,null),f=p.exports,v=function(){var t=this,n=t._self._c;return n("div",{class:t.count?"defaultTemplateCount":"defaultTemplate",style:t.size?t.size:{},on:{click:t.clickStep}},[t.count?[n("div",{on:{click:t.close}},[n("div",{staticClass:"m-count"},t._l(t.countImgList,(function(t,i){return n("img",{key:i,staticClass:"u-count",attrs:{src:t}})})),0),n("img",{staticClass:"u-img",attrs:{src:t.imgList[1]}})]),n("img",{staticClass:"u-img u-img-cover",class:["animation",{fadeOutUp:t.flipper},{none:t.active}],attrs:{src:t.imgList[0]}})]:[n("div",{staticClass:"m-count",class:{flipper:t.flipper}},[t.countImg?n("img",{staticClass:"u-count",style:t.percentage?"width:".concat(t.percentage):"",attrs:{src:t.countImg}}):t._e()]),t.countBg?n("img",{staticClass:"u-img u-bg",class:{flipper:t.flipper},attrs:{src:t.countBg}}):t._e(),n("div",{staticClass:"u-img u-img-cover",class:{active:t.active,flipper:t.flipper}},t._l(t.imgList,(function(t,i){return n("img",{key:i,class:"u-pic u-pic-".concat(2-i),attrs:{src:t}})})),0)]],2)},y=[],C={name:"DefaultTemplate",props:["data"],computed:{imgList:function(){return this.data.imgList},countBg:function(){return this.data.countBg},countImg:function(){return this.data.countImg},countImgList:function(){return this.data.countImgList},count:function(){return this.data.count},size:function(){return this.data.size},percentage:function(){return this.data.percentage}},data:function(){return{active:!1,flipper:!1,one:!0}},methods:{close:function(){this.$emit("close")},hide:function(){var t=this;this.flipper=!0,setTimeout((function(){t.active=!0,t.$emit("checked")}),600)},clickStep:function(){this.count?this.hide():this.one?(this.hide(),this.one=!1):this.close()}}},b=C,_=(i("5f4a"),Object(h["a"])(b,v,y,!1,null,null,null)),k=_.exports,x=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardChildren",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"children-card",on:{click:t.change}},[t.show?n("div",{on:{click:function(n){return n.stopPropagation(),t.close.apply(null,arguments)}}},[n("img",{staticClass:"children-card__img animation",class:t.show?"flipInY":"",attrs:{src:t.bg2Img}}),n("img",{staticClass:"animation children-card__content",class:t.show?"flipInY":"",attrs:{src:t.countImg}})]):[n("img",{class:"children-card__img animation ".concat(t.show?"":"fadeInUp"),attrs:{src:t.bgImg}}),n("div",{class:"u-img animation ".concat(t.show?"":"fadeInDown")},[n("img",{staticClass:"children-card__open",attrs:{src:t.buttonImg}})])]],2)])},L=[],w={name:"CardChildren",props:["data"],computed:{bgImg:function(){return this.data.bgImg},bg2Img:function(){return this.data.bg2Img},buttonImg:function(){return this.data.buttonImg},countImg:function(){return this.data.countImg}},data:function(){return{show:!1}},methods:{change:function(){this.show=!0},close:function(){this.$emit("close")}}},I=w,S=(i("b29c"),Object(h["a"])(I,x,L,!1,null,null,null)),P=S.exports,O=function(){var t=this,n=t._self._c;return n("div",{class:t.year?"cardSpringYear":"cardSpring",on:{click:function(t){t.stopPropagation()}}},[t.year?n("div",{staticClass:"u-springFestival-card",class:t.show?"u-card-on":"u-card-off",on:{click:t.change}},[n("img",{staticClass:"u-card-bg",attrs:{src:t.bg,alt:"新年快乐"}}),n("img",{staticClass:"u-card-cover",attrs:{src:t.cover,alt:"新年快乐"}}),n("img",{staticClass:"u-card-button",attrs:{src:t.button,alt:"新年快乐"}}),n("img",{staticClass:"u-card-content",attrs:{src:t.countImg,alt:"新年快乐"}})]):n("div",{staticClass:"u-springFestival-card fadeInUpBig p-animation"},[n("div",{ref:"letter",staticClass:"u-letter u-img m-animation",on:{click:t.close}},[n("img",{staticClass:"u-img",attrs:{src:t.letter,alt:"新年快乐"}}),n("img",{staticClass:"u-img",attrs:{src:t.countImg,alt:"新年快乐"}})]),n("img",{ref:"cover",staticClass:"u-cover u-img",attrs:{src:t.cover,alt:"新年快乐"},on:{click:t.open}})])])},j=[],F={name:"cardSpring",props:["data"],computed:{year:function(){return this.data.year},cover:function(){return this.data.cover},letter:function(){return this.data.letter},countImg:function(){return this.data.countImg},bg:function(){return this.data.bg},button:function(){return this.data.button}},data:function(){return{show:!1,closeType:!1}},methods:{open:function(){var t=this.$refs.letter,n=this.$refs.cover;n.classList.add("click"),t.classList.add("fadeOutDownBig"),t.addEventListener("animationend",(function(){t.classList.remove("fadeOutDownBig"),t.classList.add("fadeInDownBig")}),{once:!0})},change:function(){var t=this;this.show&&(this.closeType=!0,setTimeout((function(){t.$emit("close")}),1e3)),this.show=!this.show},close:function(){this.$emit("close")}}},D=F,M=(i("99c1"),Object(h["a"])(D,O,j,!1,null,null,null)),T=M.exports,A=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardSpringTwo",on:{click:function(t){t.stopPropagation()}}},[n("img",{staticClass:"cover",class:{active:t.click},attrs:{src:t.cover,alt:""},on:{click:function(n){return n.stopPropagation(),t.clickCover.apply(null,arguments)}}}),t.activeIndex<=1?n("img",{staticClass:"money",class:{"shoot-animation":t.click,active:t.activeIndex},attrs:{src:t.money1},on:{click:function(n){return n.stopPropagation(),t.clickCover.apply(null,arguments)}}}):t._e(),t.activeIndex>=2?n("img",{staticClass:"money",class:{"shoot-animation":3==t.activeIndex,active:t.activeIndex},attrs:{src:t.money2},on:{click:function(n){return n.stopPropagation(),t.clickCover.apply(null,arguments)}}}):t._e(),n("img",{staticClass:"title",class:{active:t.click,"flash-effect":t.isFlashing},attrs:{src:t.titleList[t.activeIndex],alt:""}})])},Y=[],$={name:"cardSpringTwo",props:["data"],computed:{cover:function(){return this.data.cover},count:function(){return this.data.count},titleList:function(){return this.data.titleList},imgLink:function(){return this.data.imgLink},money1:function(){return this.imgLink+"20.jpg"},money2:function(){var t=~~this.count-20;return this.imgLink+"".concat(t,".jpg")}},data:function(){return{activeIndex:0,click:!1,isFlashing:!1}},methods:{clickCover:function(){this.triggerFlash(),this.activeIndex<this.titleList.length&&this.activeIndex++,this.click=!0,1==this.activeIndex&&setTimeout((function(){var t=document.querySelector(".money1");t&&t.classList.remove("shoot-animation")}),1e3),this.activeIndex>3&&this.close()},triggerFlash:function(){var t=this;this.activeIndex<3&&(this.isFlashing=!0,setTimeout((function(){t.isFlashing=!1}),1e3))},close:function(){this.$emit("close")}}},B=$,z=(i("f5eb"),Object(h["a"])(B,A,Y,!1,null,null,null)),N=z.exports,q=function(){var t=this,n=t._self._c;return n("div",{staticClass:"newYearsDay",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"newYearsDay-card",class:t.show?"newYearsDay-card__on":"newYearsDay-card__off",on:{click:t.change}},[n("img",{staticClass:"newYearsDay-card__img newYearsDay-card__cover",attrs:{src:t.imgList[0],alt:"元旦节快乐"}}),n("img",{staticClass:"newYearsDay-card__img newYearsDay-card__content",attrs:{src:t.imgList[1],alt:"元旦节快乐"}}),t.show?t._e():n("img",{staticClass:"newYearsDay-card__click",attrs:{src:t.imgList[2]}}),n("img",{staticClass:"newYearsDay-card__close",attrs:{src:t.imgList[3]},on:{click:function(n){return n.stopPropagation(),t.close.apply(null,arguments)}}}),n("span",{staticClass:"newYearsDay-card__fontCount"},[t._v(t._s(t.fontCount))])])])},J=[],X={name:"newYearsDay",props:["data"],computed:{fontCount:function(){return this.data.fontCount},imgList:function(){return this.data.imgList}},data:function(){return{show:!1}},methods:{change:function(){this.show=!0},close:function(){this.$emit("close")}}},H=X,R=(i("8689b"),Object(h["a"])(H,q,J,!1,null,null,null)),E=R.exports,U=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardChristmas",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"christmas-card",on:{click:t.change}},[t.show?n("div",{style:"background:url(".concat(t.imgList[2],") top center no-repeat;background-size: cover;")},[n("img",{staticClass:"animation christmas-card__content christmas-card__img",class:t.show?"flipInY":"",attrs:{src:t.countImg,alt:"圣诞节快乐"},on:{click:function(n){return n.stopPropagation(),t.close.apply(null,arguments)}}})]):[n("img",{staticClass:"christmas-card__img",attrs:{src:t.imgList[0],alt:"圣诞节快乐"}}),n("img",{staticClass:"christmas-card__open",attrs:{src:t.imgList[1],alt:"圣诞节快乐"}})]],2)])},Q=[],G={name:"cardChristmas",props:["data"],computed:{countImg:function(){return this.data.countImg},imgList:function(){return this.data.imgList}},data:function(){return{show:!1}},methods:{change:function(){this.show=!0},close:function(){this.$emit("close")}}},V=G,W=(i("0948"),Object(h["a"])(V,U,Q,!1,null,null,null)),Z=W.exports,K=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardQixi",on:{click:function(t){t.stopPropagation()}}},[t.fontCount?n("div",{class:["u-count",{active:t.active}],style:{backgroundImage:"url('".concat(t.countImg,"')")}}):n("div",{class:["u-count",{active:t.active}]},[t._v("零")]),n("img",{staticClass:"u-img u-text",class:{active:t.active},attrs:{src:t.imgList[0]},on:{click:t.close}}),n("img",{staticClass:"u-img u-bg",class:{active:t.active},attrs:{src:t.imgList[1]}}),n("img",{staticClass:"u-img u-line",attrs:{src:t.imgList[2]},on:{click:t.open}})])},tt=[],nt={name:"cardQixi",props:["data"],computed:{fontCount:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.fontCount},imgList:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.imgList},countImg:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.countImg}},data:function(){return{active:!1}},methods:{close:function(){this.active=!1,this.$emit("close")},open:function(){this.active=!0,this.$emit("checked")}}},it=nt,at=(i("f842"),Object(h["a"])(it,K,tt,!1,null,null,null)),et=at.exports,st=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardDragonBoat",on:{click:function(t){t.stopPropagation()}}},[n("div",{class:["u-count",{show:t.show}],style:{backgroundImage:"url('".concat(t.countImg,"')")}}),n("div",{staticClass:"u-img mark",class:{show:t.show}}),t._l(t.imgList,(function(i,a){return n("el-image",{key:a,staticClass:"u-img",class:{text:1==a,show:t.show},attrs:{src:i,fit:"cover"},on:{click:t.showText}})}))],2)},ot=[],ct={name:"cardDragonBoat",props:["data"],computed:{countImg:function(){return this.data.countImg},imgList:function(){return this.data.imgList}},data:function(){return{list:["bg","text","cover"],show:!1}},methods:{close:function(){this.$emit("close")},showText:function(){this.show?this.close():this.show=!0}}},rt=ct,ut=(i("d242"),Object(h["a"])(rt,st,ot,!1,null,null,null)),lt=ut.exports,dt=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardLantern"},[n("div",{staticClass:"u-lanternFestival-card",class:t.show?"u-card-on":"u-card-off",on:{click:t.change}},[n("img",{staticClass:"u-card-bg",attrs:{src:t.imgList[0],alt:"元宵节快乐!"}}),n("img",{staticClass:"u-card-bg02",attrs:{src:t.imgList[1],alt:"元宵节快乐!"}}),n("img",{staticClass:"u-card-button",attrs:{src:t.imgList[2],alt:"元宵节快乐!"}}),n("img",{staticClass:"u-card-icon",attrs:{src:t.imgList[3],alt:"元宵节快乐!"}}),n("img",{staticClass:"u-card-icon02",attrs:{src:t.imgList[4],alt:"元宵节快乐!"}}),n("img",{staticClass:"u-card-content",attrs:{src:t.imgList[5],alt:"元宵节快乐!"}}),n("div",{staticClass:"u-card-count"},[t._v(t._s(t.fontCount))])])])},mt=[],gt={name:"cardLantern",props:["data"],computed:{fontCount:function(){return this.data.fontCount},imgList:function(){return this.data.imgList}},data:function(){return{show:!1}},methods:{change:function(){this.show&&this.$emit("close"),this.show=!this.show}}},ht=gt,pt=(i("8033"),Object(h["a"])(ht,dt,mt,!1,null,null,null)),ft=pt.exports,vt=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cardAutumn",on:{click:function(t){t.stopPropagation()}}},[n("span",{staticClass:"u-close",on:{click:t.close}}),n("div",{staticClass:"u-card",on:{click:t.change}},[t.show?n("img",{staticClass:"animation",class:t.show?"flipInY":"",attrs:{src:t.imgList[1],alt:"中秋节快乐！"}}):n("img",{attrs:{src:t.imgList[0],alt:"中秋节快乐！"}}),t.show?n("span",{staticClass:"u-fontCount animation",class:t.show?"fadeInDown":""},[t._v(t._s(t.fontCount))]):n("span",{staticClass:"u-username"},[t._v(t._s(t.username)+" 侠士")])])])},yt=[],Ct=(i("b0c0"),i("c9d2")),bt={name:"cardAutumn",props:["data"],data:function(){return{show:!1}},computed:{fontCount:function(){return this.data.fontCount},imgList:function(){return this.data.imgList},username:function(){return Ct["a"].getInfo().name}},watch:{},methods:{change:function(){this.show=!0},close:function(){this.$emit("close")}}},_t=bt,kt=(i("3dc4"),Object(h["a"])(_t,vt,yt,!1,null,null,null)),xt=kt.exports,Lt=function(){var t=this,n=t._self._c;return n("div",{staticClass:"doubleScreen",style:{backgroundImage:"url(".concat(t.bgImg,")")},on:{click:function(t){t.stopPropagation()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"m-first",on:{click:t.showSecond}},[n("img",{staticClass:"u-petal animation",class:t.change?"fadeOut":"fadeIn",attrs:{src:t.imgList[0]}}),n("img",{staticClass:"u-look animations fadeInOut",class:t.change?"none":"",attrs:{src:t.imgList[1]}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"m-second"},[n("img",{staticClass:"u-left animation fadeInLeft",attrs:{src:t.imgList[2]}}),n("img",{staticClass:"u-right animation fadeInRight",attrs:{src:t.imgList[3]}}),n("img",{staticClass:"u-good animation fadeInDown",attrs:{src:t.vImg}}),n("img",{staticClass:"u-txt animation fadeInUp",attrs:{src:t.countImg}}),n("div",{staticClass:"u-boxcion animation fadeInDown"},[n("span",{staticClass:"u-cion"},[t._v(t._s(t.fontCount))]),n("img",{staticClass:"u-img",attrs:{src:t.imgList[4]}})]),n("img",{staticClass:"u-close animation fadeInUp",attrs:{src:t.imgList[5]},on:{click:t.closePop}})])])},wt=[],It={name:"doubleScreen",props:["data"],data:function(){return{show:!1,change:!1}},computed:{fontCount:function(){return this.data.fontCount},bgImg:function(){return this.data.bgImg},countImg:function(){return this.data.countImg},imgList:function(){return this.data.imgList},vImg:function(){return this.data.vImg}},methods:{showSecond:function(){var t=this;this.change=!0,setTimeout((function(){t.show=!0}),1e3)},closePop:function(){this.$emit("close")}}},St=It,Pt=(i("fe48"),Object(h["a"])(St,Lt,wt,!1,null,null,null)),Ot=Pt.exports,jt=function(){var t=this,n=t._self._c;return n("div",{staticClass:"OneScreen",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"m-card animation a-zoomInDown",class:t.text?"m-duanwu":""},[n("img",{attrs:{src:t.imgLink,alt:t.text}}),n("span",{staticClass:"u-count"},[t._v(t._s(t.fontCount))]),n("span",{staticClass:"u-user"},[t._v(t._s(t.user))]),n("span",{staticClass:"u-close",on:{click:t.close}},[n("i",{staticClass:"el-icon-close"}),t._v(" "),n("span",[t._v("关闭")])])])])},Ft=[],Dt={name:"oneScreen",props:["data"],data:function(){return{visible:!0}},computed:{fontCount:function(){return this.data.fontCount},imgLink:function(){return this.data.imgLink},text:function(){return this.data.text},user:function(){return Ct["a"].getInfo().name}},methods:{close:function(){this.$emit("close")}}},Mt=Dt,Tt=(i("0bb4"),Object(h["a"])(Mt,jt,Ft,!1,null,null,null)),At=Tt.exports,Yt=(i("caad"),i("2532"),function(){var t=this,n=t._self._c;return n("div",{staticClass:"Anniversary",class:{nextStep:t.nextStep}},[t.show?n("div",{staticClass:"m-anniversary"},[t.nextStep?n("img",{staticClass:"u-close",attrs:{src:t.oneImg[2],alt:"2025魔盒周年庆"},on:{click:t.close}}):t._e(),n("div",{staticClass:"m-bg"},[t.nextStep?n("video",{staticClass:"u-video",attrs:{autoplay:"",muted:"",loop:"",poster:t.bg2Img[0],preload:"metadata"},domProps:{muted:!0}},[n("source",{attrs:{src:t.bg2Img[2],type:"video/mp4"}})]):n("video",{staticClass:"u-video",attrs:{autoplay:"",muted:"",loop:"",poster:t.bg1Img[0],preload:"metadata"},domProps:{muted:!0}},[n("source",{attrs:{src:t.bg1Img[2],type:"video/mp4"}})]),n("img",{staticClass:"u-box-girl-1",attrs:{src:t.bg1Img[1],alt:"盒子娘（小）"}}),t.nextStep?[n("div",{staticClass:"u-box-girl-2"}),n("img",{staticClass:"u-jx3box",attrs:{src:t.imgList[6],alt:"魔盒团队爱你"}}),n("span",{staticClass:"u-tips"},[t._v("已领取")])]:t._e()],2),n("div",{staticClass:"m-star-box"},[n("div",{class:["m-title",{nextStep:t.nextStep}]},[n("img",{class:["u-img-title",{light:t.showNext}],attrs:{src:t.showNext?t.imgList[5]:t.imgList[4],alt:t.showNext?"摘下来看看":"请依次点亮所有星星"}}),n("span",{staticClass:"u-count"},[t._v("("+t._s(t.starCount)+"/6)")])]),n("div",{staticClass:"m-heart"},[n("div",{class:["u-heart u-heart-1",{nextStep:t.nextStep}]}),n("div",{class:["u-heart u-heart-2",{nextStep:t.nextStep},{light:t.showNext}]}),t._l(6,(function(i){return n("img",{key:i,class:["u-star",{light:t.starList.includes(i)},"u-star-".concat(i),{nextStep:t.nextStep}],attrs:{src:t.starList.includes(i)?t.imgList[3]:t.imgList[2]},on:{click:function(n){return t.clickStar(i)}}})}))],2),t.nextStep?t._l(t.txtList,(function(i,a){return n("span",{key:a,class:["u-title","u-title-".concat(a+1)]},[t._v(" "+t._s("魔盒积分"==i.title?"".concat(t.data.count||"20","魔盒积分"):i.title)+" ")])})):t._l(t.txtList,(function(i,a){return n("div",{key:a,class:["u-txt",{light:t.starList.includes(a+1)},"u-txt-".concat(a+1)]},[n("h3",[t._v(t._s(i.title))]),n("p",[t._v(t._s(i.desc))])])}))],2),t.showNext&&!t.nextStep?n("div",{staticClass:"m-click"},[n("span",{staticClass:"u-circle",on:{click:function(n){t.nextStep=!0}}},[t._v("摘星")])]):t._e(),n("img",{staticClass:"u-button",attrs:{src:t.oneImg[1],alt:"2025魔盒周年庆"},on:{click:t.close}})]):n("div",{staticClass:"m-card"},[n("img",{attrs:{src:t.oneImg[0],alt:"2025魔盒周年庆"}}),n("img",{staticClass:"u-button",attrs:{src:t.oneImg[1],alt:"2025魔盒周年庆"},on:{click:t.change}}),n("img",{staticClass:"u-close",attrs:{src:t.oneImg[2],alt:"2025魔盒周年庆"},on:{click:t.close}})])])}),$t=[],Bt=(i("14d9"),{name:"cardAnniversary",props:["data"],data:function(){return{show:!1,light:!1,starCount:0,starList:[],nextStar:1,nextStep:!1}},computed:{showNext:function(){return 6==this.starCount},oneImg:function(){return this.data.oneImg},bg1Img:function(){return this.data.bg1},bg2Img:function(){return this.data.bg2},imgList:function(){return this.data.imgList},txtList:function(){return this.data.txtList}},methods:{change:function(){this.show=!0},close:function(){this.$emit("close")},clickStar:function(t){this.nextStar==t&&(this.showNext||(this.starCount++,this.nextStar++,this.starList.push(t)))}}}),zt=Bt,Nt=(i("17ea"),i("9de8"),Object(h["a"])(zt,Yt,$t,!1,null,null,null)),qt=Nt.exports,Jt={name:"holidayCard",components:{HeaderLessLayout:f,DefaultTemplate:k,CardChildren:P,CardSpring:T,CardSpringTwo:N,CardNewYear:E,CardChristmas:Z,CardQixi:et,CardDragonBoat:lt,CardLantern:ft,CardAutumn:xt,DoubleScreen:Ot,OneScreen:At,Anniversary:qt},data:function(){return{cardType:c,list:[],data:{}}},computed:{user_id:function(){return this.$route.query.uid},my_card_id:function(){return this.$route.query.id},active_event:function(){var t=this;return this.list.find((function(n){return n.id==t.my_card_id}))},event_id:function(){return this.$route.query.event_id},event_key:function(){var t;return null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.key},imgLink:function(){return o["e"]+"design/card/festival/".concat(this.event_key,"/")},imgList:function(){var t,n;return console.log(null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.imgList),(null===(n=this.cardType[this.event_id])||void 0===n?void 0:n.imgList)||[]},fontCount:function(){var t;return null===(t=this.active_event)||void 0===t?void 0:t.event_reward_count},event_component:function(){var t;return null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.component},component_data:function(){var t,n,i={anniversary:this.anniversary_data,default:this.default_data,children:this.children_data,spring:this.spring_data,spring_two:this.spring_two_data,newyear:this.newyear_data,christmas:this.christmas_data,qixi:this.qixi_data,dragon:this.dragon_data,lantern:this.newyear_data,autumn:this.newyear_data,double:this.double_data,one:this.one_data};return console.log(i[null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.type]),i[null===(n=this.cardType[this.event_id])||void 0===n?void 0:n.type]},default_data:function(){var t,n,i,a,e=this,s=null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.bg,o=null===(n=this.cardType[this.event_id])||void 0===n?void 0:n.count,c=String(this.fontCount).split("").map((function(t){return"".concat(e.imgLink).concat(t,".png")})),r=null===(i=this.cardType[this.event_id])||void 0===i?void 0:i.size,u=null===(a=this.cardType[this.event_id])||void 0===a?void 0:a.percentage,l=this.imgList.map((function(t){return Array.isArray(t)?t.map((function(t){return"".concat(e.imgLink).concat(t)})):"".concat(e.imgLink).concat(t)})),d={imgList:l,fontCount:this.fontCount,countImg:"".concat(this.imgLink).concat(this.fontCount,".png"),countImgList:c,count:o,size:r,percentage:u};return s&&(d.countBg="".concat(this.imgLink).concat(s)),d},anniversary_data:function(){var t,n,i=this,a=this.imgList.map((function(t){return Array.isArray(t)?t.map((function(t){return"".concat(i.imgLink).concat(t)})):"".concat(i.imgLink).concat(t)}));return{count:null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.count,oneImg:a[0],bg1:a[1],bg2:a[2],imgList:a[3],txtList:null===(n=this.cardType[this.event_id])||void 0===n?void 0:n.txtList}},children_data:function(){return{bgImg:"".concat(this.imgLink,"bg.png"),buttonImg:"".concat(this.imgLink,"button.png"),bg2Img:"".concat(this.imgLink,"bg2.png"),countImg:"".concat(this.imgLink).concat(this.fontCount,".png")}},spring_data:function(){var t,n=null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.year,i={letter:"".concat(this.imgLink,"letter.png"),cover:"".concat(this.imgLink,"cover.png"),countImg:"".concat(this.imgLink).concat(this.fontCount,".png")},a={year:!0,bg:"".concat(this.imgLink,"BG.jpg"),cover:"".concat(this.imgLink,"cover.png"),button:"".concat(this.imgLink,"button.png"),countImg:"".concat(this.imgLink).concat(this.fontCount,".png")};return n?a:i},spring_two_data:function(){var t=this;return{cover:"".concat(this.imgLink,"cover.jpg"),count:this.fontCount||30,titleList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)})),imgLink:this.imgLink}},newyear_data:function(){var t=this;return{fontCount:this.fontCount,imgList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)}))}},christmas_data:function(){var t=this;return{countImg:"".concat(this.imgLink).concat(this.fontCount,".png"),imgList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)}))}},qixi_data:function(){var t=this;return{fontCount:this.fontCount,countImg:"".concat(this.imgLink).concat(this.fontCount,".png"),imgList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)}))}},dragon_data:function(){var t=this;return{countImg:"".concat(this.imgLink).concat(this.fontCount,".svg"),imgList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)}))}},double_data:function(){var t=this;return{fontCount:this.fontCount,countImg:"".concat(this.imgLink).concat(this.fontCount,".png"),imgList:this.imgList.map((function(n){return"".concat(t.imgLink).concat(n)})),vImg:"".concat(this.imgLink,"v").concat(this.fontCount,".png"),bgImg:"".concat(this.imgLink,"bg.png")}},one_data:function(){var t,n=this.event_key,i=null===(t=this.cardType[this.event_id])||void 0===t?void 0:t.text,a={fontCount:this.fontCount,imgLink:o["e"]+"design/card/festival/".concat(n,".png")};return i&&(a.text=i),a}},watch:{my_card_id:{handler:function(t){if(!t)return this.goBack();t&&this.load()},immediate:!0}},methods:{close:function(){this.goBack(),window.parent.postMessage("closeHolidayCard","*")},goBack:function(){},load:function(){var t=this;Ct["a"].isLogin()&&(Ct["a"].getInfo().uid!=this.user_id&&this.goBack(),u({_no_page:1}).then((function(n){var i;t.list=(null===(i=n.data.data)||void 0===i?void 0:i.list)||[],t.checkMatch(t.list)||t.goBack()})))},checkMatch:function(t){if(!t||!Array.isArray(t))return!1;var n=parseInt(this.my_card_id),i=parseInt(this.event_id);return!isNaN(n)&&!isNaN(i)&&Object(s["some"])(t,{id:n,event_id:i})}}},Xt=Jt,Ht=(i("f926"),Object(h["a"])(Xt,a,e,!1,null,null,null));n["default"]=Ht.exports},"3397c":function(t,n,i){"use strict";i.r(n);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),e=i("5c96"),s=i.n(e),o=i("6a69"),c=(i("6b30"),i("c5b4"),i("16e5")),r=i("8c4f"),u=function(){var t=this,n=t._self._c;return n("div",{staticClass:"p-card"},[n(t.event_component,{tag:"component"})],1)},l=[],d=i("9207"),m=i("30eb"),g={name:"CardIndex",components:{BirthdayCard:d["default"],HolidayCard:m["default"]},computed:{type:function(){return this.$route.query.type},event_component:function(){var t={birthday:d["default"],holiday:m["default"]};return t[this.type]||m["default"]}}},h=g,p=i("2877"),f=Object(p["a"])(h,u,l,!1,null,null,null),v=f.exports;a["default"].use(r["a"]);var y=[{path:"/",name:"index",component:v}],C=new r["a"]({routes:y,mode:"history",base:"/card/"});C.beforeEach((function(t,n,i){console.log("Router navigation:",t.path),i()}));var b=C,_=function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},k=[],x={name:"card"},L=x,w=Object(p["a"])(L,_,k,!1,null,null,null),I=w.exports;a["default"].config.productionTip=!1,a["default"].use(s.a),a["default"].use(o["a"]),c["a"].install(a["default"]),new a["default"]({router:b,render:function(t){return t(I)}}).$mount("#app")},3553:function(t,n,i){},"35b6":function(t,n,i){},"3dc4":function(t,n,i){"use strict";i("7781")},4261:function(t,n,i){},5269:function(t,n,i){},"5ed1":function(t,n,i){},"5f4a":function(t,n,i){"use strict";i("25b6")},6025:function(t,n,i){},"618a":function(t,n,i){"use strict";var a=i("41cb");i.d(n,"a",(function(){return a["$helper"]})),i.d(n,"b",(function(){return a["$next"]})),i.d(n,"d",(function(){return a["$team"]})),i.d(n,"c",(function(){return a["$pay"]}));Object(a["$https"])("server",{proxy:!1})},"627e":function(t,n,i){},"75de":function(t,n,i){},7781:function(t,n,i){},8033:function(t,n,i){"use strict";i("80a6")},"80a6":function(t,n,i){},"81d1":function(t,n,i){"use strict";i("9279")},"8689b":function(t,n,i){"use strict";i("5269")},8784:function(t,n,i){},9207:function(t,n,i){"use strict";i.r(n);var a=function(){var t=this,n=t._self._c;return n("AppLayout",[n("div",{staticClass:"m-main m-index-popup"},[n(t.event_component,{tag:"component"})],1)])},e=[],s=i("c6d4"),o=(i("99af"),i("b0c0"),function(){var t=this,n=t._self._c;return n("div",{staticClass:"p-birthday"},[n("video",{staticClass:"u-star-video",attrs:{src:"".concat(t.imgPath,"bg.mp4?12"),type:"video/mp4",autoplay:"",loop:"",muted:""},domProps:{muted:!0}}),t.card?n("div",{staticClass:"m-card"},[n("span",{staticClass:"u-name"},[t._v("祝："+t._s(t.name)+" ")]),n("img",{staticClass:"u-star",attrs:{src:"".concat(t.imgPath,"star/").concat(t.star,"/date.svg")}}),n("img",{attrs:{src:"".concat(t.imgPath,"card.png")}}),n("img",{staticClass:"u-girl",attrs:{src:"".concat(t.imgPath,"star/").concat(t.star,"/girl.png")}}),n("span",{staticClass:"u-date"},[t._v(" "+t._s(t.date)+" ")])]):[n("machine",{attrs:{imgPath:t.imgPath}},[n("lamp",{attrs:{imgPath:t.imgPath,reward:t.reward,once:t.once}}),n("div",{staticClass:"m-ball"},[n("div",{staticClass:"m-ball-box"},[n("img",{staticClass:"u-compass",class:{reward:t.reward},attrs:{src:"".concat(t.imgPath,"compass.svg")}}),n("ball",{attrs:{imgPath:t.imgPath,reward:t.reward}})],1)]),n("div",{staticClass:"m-reward"},[t.show?t._e():[t.once?n("img",{staticClass:"u-reward",attrs:{src:"".concat(t.imgPath,"egg1.svg?jx3box")}}):t._e()],n("img",{class:"u-finger ".concat(t.reward||t.once?"hide":""),attrs:{src:"".concat(t.imgPath,"finger.svg")},on:{click:t.toggleReward}}),n("img",{class:"u-switch ".concat(t.reward?"reward":""),attrs:{src:"".concat(t.imgPath,"knob.svg")},on:{click:t.toggleReward}})],2),n("div",{staticClass:"u-txt"},[t.reward||t.once?t._e():[t._v("点击旋钮开启")],t.once?[n("span",{staticClass:"u-open"},[t._v("点击开启")])]:t._e()],2)],1),t.show?n("div",{staticClass:"m-show"},[n("div",{staticClass:"m-show-content",on:{click:function(n){t.card=!0}}},[n("img",{staticClass:"u-halo",attrs:{src:"".concat(t.imgPath,"halo.svg")}}),n("img",{staticClass:"u-icon",attrs:{src:"".concat(t.imgPath,"egg1.svg")}})])]):t._e()]],2)}),c=[],r=(i("14d9"),function(){var t=this,n=t._self._c;return n("div",{staticClass:"m-machine"},[n("div",{staticClass:"m-decoration m-decoration-left"},t._l(4,(function(i){return n("img",{key:i,class:"u-img u-img-left".concat(i),style:{"--shake-x":"".concat(5*Math.random()+2,"px"),"--rotate":"".concat(3*Math.random()+1,"deg"),"--duration":"".concat(1*Math.random()+2,"s")},attrs:{src:"".concat(t.imgPath,"left").concat(i,".svg")}})})),0),n("div",{staticClass:"m-box"},[t._t("default")],2),n("div",{staticClass:"m-decoration m-decoration-right"},t._l(4,(function(i){return n("img",{key:i,class:"u-img u-img-right".concat(i),style:{"--shake-x":"".concat(5*Math.random()+2,"px"),"--rotate":"".concat(3*Math.random()+1,"deg"),"--duration":"".concat(1*Math.random()+2,"s")},attrs:{src:"".concat(t.imgPath,"right").concat(i,".svg")}})})),0)])}),u=[],l={props:["imgPath","reward"]},d=l,m=(i("b05e"),i("2877")),g=Object(m["a"])(d,r,u,!1,null,"fe7d370c",null),h=g.exports,p=function(){var t=this,n=t._self._c;return n("div",{staticClass:"circle-container"},t._l(t.currentPositions,(function(i,a){return n("img",{key:a,staticClass:"circle",style:{top:"".concat(i.top,"px"),left:"".concat(i.left,"px"),transform:"rotate(".concat(1===a?t.stepRotateDeg:t.randomDeg[a],"deg)"),transformOrigin:"center center"},attrs:{src:"".concat(t.imgPath,"egg").concat(a>3?a-3:a+1,".svg")}})})),0)},f=[],v=i("5530"),y=(i("cb29"),i("d81d"),i("e9f5"),i("d866"),i("7d54"),i("ab43"),i("1236"),i("e9c4"),i("4057"),i("b64b"),i("d3b7"),i("159b"),{name:"CircleFallEffect",props:{imgPath:{type:String,required:!0},reward:{type:Boolean,default:!1}},data:function(){var t=[{top:10,left:24},{top:10,left:102},{top:10,left:180},{top:69,left:58},{top:70,left:140},{top:95,left:-12},{top:76,left:216}],n=[{top:89,left:36},{top:86,left:98},{top:83,left:180},{top:155,left:72},{top:154,left:146},{top:155,left:10},{top:155,left:194}],i={top:91,left:108};return{initPositions:t,circleTargetPositions:n,finalPosForIndex1:i,currentPositions:JSON.parse(JSON.stringify(t)),stepRotateDeg:0,randomDeg:Array(7).fill(0),animationId:null,fallAnimationId:null,ballSpeeds:[],ballSize:75,containerWidth:284,containerHeight:230,elasticity:.8,fallElasticity:.4,minSpeed:2,gravity:.4,isFalling:!1,forceField:{centerX:142,centerY:115,forceStrength:.7,angularForce:.2,drag:1,activeDuration:2e3},forceFieldStartTime:0,motionMode:"forceField"}},mounted:function(){this.fallToTarget()},watch:{reward:function(t){t?this.startForceFieldMotion():this.stopCollisionAndFall()}},beforeUnmount:function(){this.stopAllAnimation(),this.isFalling=!1},methods:{stopAllAnimation:function(){this.animationId&&cancelAnimationFrame(this.animationId),this.fallAnimationId&&cancelAnimationFrame(this.fallAnimationId),this.animationId=null,this.fallAnimationId=null},fallToTarget:function(){var t=this;if(!this.isFalling){this.isFalling=!0;var n=this.randomDeg.map((function(){return Math.floor(50*Math.random())-12})),i=-8,a=38;this.animateSmoothFall(JSON.parse(JSON.stringify(this.initPositions)),this.circleTargetPositions,JSON.parse(JSON.stringify(this.randomDeg)),n,this.stepRotateDeg,i,800,(function(){var e=t.currentPositions.map((function(n,i){return 1===i?t.finalPosForIndex1:Object(v["a"])({},n)}));t.animateSmoothFall(JSON.parse(JSON.stringify(t.currentPositions)),e,JSON.parse(JSON.stringify(n)),n,i,a,500,(function(){t.isFalling=!1}))}))}},animateSmoothFall:function(t,n,i,a,e,s,o,c){var r=this,u=performance.now(),l=function(t){return t},d=function(m){var g=m-u,h=Math.min(g/o,1),p=l(h),f=t.map((function(t,i){var a=n[i],e=(a.top-t.top)*p,s=(a.left-t.left)*p;return{top:Math.round(t.top+e),left:Math.round(t.left+s)}}));r.currentPositions=f,r.randomDeg=i.map((function(t,n){return t+(a[n]-t)*p})),r.stepRotateDeg=e+(s-e)*p,h<1?r.animationId=requestAnimationFrame(d):(cancelAnimationFrame(r.animationId),r.animationId=null,c&&c())};this.animationId&&cancelAnimationFrame(this.animationId),this.animationId=requestAnimationFrame(d)},startForceFieldMotion:function(){var t=this;this.stopAllAnimation(),this.isFalling=!1,this.motionMode="forceField",this.forceFieldStartTime=performance.now(),this.ballSpeeds=this.currentPositions.map((function(n){var i=t.forceField.centerX,a=t.forceField.centerY,e=n.left+t.ballSize/2,s=n.top+t.ballSize/2,o=i-e,c=a-s,r=.02*-c,u=.02*o;return{dx:.02*o+r+.2*(Math.random()-.5),dy:.02*c+u+.2*(Math.random()-.5),angularSpeed:.5*(Math.random()-.5)-2}})),this.animationLoop()},animationLoop:function(){var t=this,n=performance.now();"forceField"===this.motionMode?n-this.forceFieldStartTime>=this.forceField.activeDuration?this.motionMode="collision":this.updateForceFieldMotion():this.updateCollisionMotion(),this.currentPositions.forEach((function(n,i){var a=t.ballSpeeds[i];"forceField"===t.motionMode?(t.randomDeg[i]+=1.6*a.angularSpeed,1===i&&(t.stepRotateDeg+=.16*a.angularSpeed)):(t.randomDeg[i]+=.8*a.angularSpeed,1===i&&(t.stepRotateDeg+=.08*a.angularSpeed))})),this.animationId=requestAnimationFrame(this.animationLoop)},updateForceFieldMotion:function(){var t=this,n=this.forceField,i=n.centerX,a=n.centerY,e=n.forceStrength,s=n.angularForce,o=n.drag,c=this.ballSize/2,r=0,u=this.containerWidth-this.ballSize,l=0,d=this.containerHeight-this.ballSize;this.currentPositions=this.currentPositions.map((function(n,m){var g=t.ballSpeeds[m],h=n.left+c,p=n.top+c,f=i-h,v=a-p,y=Math.hypot(f,v)||1,C=f/y*e,b=v/y*e,_=-v/y,k=f/y,x=_*s,L=k*s;g.dx=(g.dx+C+x)*o,g.dy=(g.dy+b+L)*o;var w=n.left+g.dx,I=n.top+g.dy;return(w<=r||w>=u)&&(g.dx*=-.5,w=Math.max(r,Math.min(w,u))),(I<=l||I>=d)&&(g.dy*=-.5,I=Math.max(l,Math.min(I,d))),{left:w,top:I}}))},updateCollisionMotion:function(){var t=this,n=this.currentPositions.map((function(n,i){return Object(v["a"])(Object(v["a"])({},n),{},{index:i,radius:t.ballSize/2})})),i=this.containerWidth,a=this.containerHeight;this.ballSize;n.forEach((function(n,e){var s=t.ballSpeeds[e];n.left+=s.dx,n.top+=s.dy,(n.left<=0||n.left>=i-t.ballSize)&&(s.dx*=-.8,n.left=Math.max(0,Math.min(n.left,i-t.ballSize))),(n.top<=0||n.top>=a-t.ballSize)&&(s.dy*=-.8,n.top=Math.max(0,Math.min(n.top,a-t.ballSize)))}));for(var e=0;e<n.length;e++)for(var s=e+1;s<n.length;s++){var o=n[e],c=n[s],r=this.ballSpeeds[e],u=this.ballSpeeds[s],l=c.left-o.left,d=c.top-o.top,m=Math.hypot(l,d),g=o.radius+c.radius;if(m<g&&m>0){var h=l/m,p=d/m,f=-p,y=h,C=r.dx*h+r.dy*p,b=r.dx*f+r.dy*y,_=u.dx*h+u.dy*p,k=u.dx*f+u.dy*y,x=1,L=1,w=(C*(x-L)+2*L*_)/(x+L),I=(_*(L-x)+2*x*C)/(x+L);r.dx=w*h+b*f,r.dy=w*p+b*y,u.dx=I*h+k*f,u.dy=I*p+k*y;var S=.5*(g-m);o.left-=h*S,o.top-=p*S,c.left+=h*S,c.top+=p*S}}this.currentPositions=n.map((function(t){var n=t.left,i=t.top;return{left:n,top:i}}))},stopCollisionAndFall:function(){this.stopAllAnimation(),this.initFallState(),this.animateVerticalFall()},initFallState:function(){var t=this;this.ballSpeeds.length?this.ballSpeeds=this.ballSpeeds.map((function(n){return{dx:0,dy:n.dy+t.gravity,angularSpeed:.5*n.angularSpeed}})):this.ballSpeeds=Array(7).fill().map((function(){return{dx:0,dy:3,angularSpeed:.8*(Math.random()-.5)}}))},animateVerticalFall:function(){var t=this,n=this.currentPositions.map((function(n,i){return Object(v["a"])(Object(v["a"])({},n),{},{index:i,radius:t.ballSize/2})}));n.forEach((function(n,i){var a=t.ballSpeeds[i];a.dy+=t.gravity,n.top+=a.dy,n.top>=t.containerHeight-t.ballSize&&(a.dy=-a.dy*t.fallElasticity,n.top=Math.min(n.top,t.containerHeight-t.ballSize),a.angularSpeed+=.2*(Math.random()-.5));var e=n.left+t.ballSize/2,s=n.top+t.ballSize/2,o=t.calcCounterClockwiseAngularSpeed(e,s);t.randomDeg[i]+=.6*(a.angularSpeed+o)+.2*Math.abs(a.dy),1===i&&(t.stepRotateDeg+=.02*(a.angularSpeed+o)+.02*Math.abs(a.dy))})),this.currentPositions=n.map((function(t){var n=t.top,i=t.left;return{top:n,left:i}}));var i=this.ballSpeeds.every((function(n,i){var a=t.currentPositions[i];return Math.abs(n.dy)<.25&&a.top>=t.containerHeight-t.ballSize-1}));i?(this.stopFallAnimation(),this.ballSpeeds=this.ballSpeeds.map((function(t){return Object(v["a"])(Object(v["a"])({},t),{},{angularSpeed:0})}))):this.fallAnimationId=requestAnimationFrame(this.animateVerticalFall)},stopFallAnimation:function(){this.fallAnimationId&&(cancelAnimationFrame(this.fallAnimationId),this.fallAnimationId=null)},calcCounterClockwiseAngularSpeed:function(t,n){var i={centerX:142,centerY:115,radius:120,maxAngularSpeed:.6,decay:2},a=i.centerX,e=i.centerY,s=i.radius,o=i.maxAngularSpeed,c=i.decay,r=t-a,u=n-e,l=Math.sqrt(r*r+u*u);if(l>=s)return 0;var d=l/s,m=1-Math.pow(d,c);return-o*m}}}),C=y,b=(i("05ae"),Object(m["a"])(C,p,f,!1,null,"24d66451",null)),_=b.exports,k=function(){var t=this,n=t._self._c;return n("div",{staticClass:"m-lamp"},t._l(12,(function(i){return n("div",{key:i,staticClass:"lamp-item"},[n("img",{class:t.getImgClass(i),attrs:{src:t.getImgSrc(i),alt:"lamp"}})])})),0)},x=[],L={name:"Lamp",props:{imgPath:{type:String,default:""},reward:{type:Boolean,default:!1},once:{type:Boolean,default:!1}},data:function(){return{flashToggle:0,activeIndex:0,timer:null,animDuration:{flash:1e3,marquee:70,fullFlash:800}}},watch:{once:{immediate:!0,handler:function(){this.initAnimation()}},reward:{immediate:!0,handler:function(){this.initAnimation()}}},beforeUnmount:function(){this.clearTimer()},destroyed:function(){this.clearTimer()},methods:{initAnimation:function(){var t=this;this.clearTimer();var n=0;this.once?(n=this.animDuration.fullFlash,this.timer=setInterval((function(){t.flashToggle=t.flashToggle?0:1}),n)):this.reward?(n=this.animDuration.marquee,this.timer=setInterval((function(){t.activeIndex=(t.activeIndex+1)%12}),n)):(n=this.animDuration.flash,this.timer=setInterval((function(){t.flashToggle=t.flashToggle?0:1}),n))},clearTimer:function(){this.timer&&clearInterval(this.timer),this.timer=null},getImgSrc:function(t){var n=this.imgPath;if(this.once)return this.flashToggle?"".concat(n,"light12.png?1"):"".concat(n,"light11.png");if(this.reward)return this.activeIndex+1===t?"".concat(n,"light12.png?1"):"".concat(n,"light11.png");var i=t%2===1;return i?this.flashToggle?"".concat(n,"light02.png"):"".concat(n,"light01.png"):this.flashToggle?"".concat(n,"light01.png"):"".concat(n,"light02.png")},getImgClass:function(t){if(this.once)return this.flashToggle?"img4":"img3";if(this.reward)return this.activeIndex+1===t?"img4":"img3";var n=t%2===1;return n?this.flashToggle?"img2":"img1":this.flashToggle?"img1":"img2"}}},w=L,I=(i("27b6"),Object(m["a"])(w,k,x,!1,null,"be871538",null)),S=I.exports,P=i("41cb");function O(t){return Object(P["$next"])().get("/api/next2/birthday-event/my/item/".concat(t))}var j=i("c9d2"),F=i("5a0c"),D=i.n(F),M=i("01ea"),T={name:"Default2026",data:function(){return{data:"",imgPath:M["e"]+"design/card/birthday/2026/",star:"jinniu",reward:!1,once:!1,show:!1,card:!1}},components:{machine:h,ball:_,lamp:S},computed:{isLogin:function(){return j["a"].isLogin()},user:function(){return j["a"].getInfo()},id:function(){return this.$route.query.id},uid:function(){return this.$route.query.uid||0},isMine:function(){return this.uid==this.user.uid},name:function(){return this.user.name},date:function(){return this.dateFormat(this.data.birthday)}},mounted:function(){this.isLogin?this.loadData():this.goBack()},methods:{dateFormat:function(t){return D()(t).format("YYYY.MM.DD")},loadData:function(){var t=this;if(!this.isMine)return this.goBack();O(this.id).then((function(n){t.data=n.data.data,t.getStar()})).catch((function(){t.goBack()}))},goBack:function(){this.$router.push({name:"index",params:{id:this.uid}})},getStar:function(){for(var t=new Date(this.data.birthday),n=t.getMonth()+1,i=t.getDate(),a=[{sign:"baiyang",start:{month:3,day:21},end:{month:4,day:19}},{sign:"jinniu",start:{month:4,day:20},end:{month:5,day:20}},{sign:"shuangzi",start:{month:5,day:21},end:{month:6,day:20}},{sign:"juxie",start:{month:6,day:21},end:{month:7,day:22}},{sign:"shizi",start:{month:7,day:23},end:{month:8,day:22}},{sign:"chunv",start:{month:8,day:23},end:{month:9,day:22}},{sign:"tiancheng",start:{month:9,day:23},end:{month:10,day:22}},{sign:"tianxie",start:{month:10,day:23},end:{month:11,day:21}},{sign:"sheshou",start:{month:11,day:22},end:{month:12,day:21}},{sign:"mojie",start:{month:12,day:22},end:{month:1,day:19}},{sign:"shuiping",start:{month:1,day:20},end:{month:2,day:18}},{sign:"shuangyu",start:{month:2,day:19},end:{month:3,day:20}}],e=0,s=a;e<s.length;e++){var o=s[e],c=o.sign,r=o.start,u=o.end;if(n===r.month&&i>=r.day||n===u.month&&i<=u.day||n>r.month&&n<u.month||n===u.month&&i<=u.day||n===r.month&&i>=r.day&&u.month===r.month)return void(this.star=c)}this.star="baiyang"},toggleReward:function(){var t=this;this.once||(this.reward=!0,setTimeout((function(){t.reward=!1,t.once=!0,setTimeout((function(){t.show=!0}),2200)}),2e3))}}},A=T,Y=(i("81d1"),Object(m["a"])(A,o,c,!1,null,null,null)),$=Y.exports,B=function(){var t=this,n=t._self._c;return n("div",{staticClass:"p-birthday",on:{mousemove:t.handleMouseMove,mouseleave:t.handleMouseLeave}},[n("video",{staticClass:"u-video",attrs:{src:"".concat(t.imgPath,"bg.mp4"),type:"video/mp4",autoplay:"",loop:"",muted:""},domProps:{muted:!0}}),n("div",{class:t.letterClass,on:{click:t.openLetter}},[n("img",{staticClass:"u-img u-pack-in",attrs:{src:"".concat(t.imgPath,"pack_in.png")}}),n("img",{staticClass:"u-img u-pack-out",attrs:{src:"".concat(t.imgPath,"pack_out.png")}}),n("img",{staticClass:"u-img u-pack-top-out",attrs:{src:"".concat(t.imgPath,"pack_topout.png")}}),n("img",{staticClass:"u-img u-pack-top-in",attrs:{src:"".concat(t.imgPath,"pack_topin.png")}}),n("div",{staticClass:"m-content",style:t.transformStyle},[n("img",{staticClass:"u-img u-girl",attrs:{src:"".concat(t.imgPath).concat(t.star,"/girl.png")}}),n("div",{staticClass:"m-paper"},[n("img",{staticClass:"u-bg",attrs:{src:"".concat(t.imgPath,"paper.png")}}),n("span",{staticClass:"u-text name"},[t._v(t._s(t.name))]),n("span",{staticClass:"u-text date"},[t._v(t._s(t.date))])]),n("img",{staticClass:"u-img u-icon",attrs:{src:"".concat(t.imgPath).concat(t.star,"/icon.png")}}),n("img",{staticClass:"u-img u-cake",attrs:{src:"".concat(t.imgPath,"girlQ.png")}}),n("img",{staticClass:"u-img u-ground",attrs:{src:"".concat(t.imgPath,"ground.png")}})]),n("img",{staticClass:"u-img u-txt",attrs:{src:"".concat(t.imgPath).concat(t.star,"/txt.png")}}),n("img",{staticClass:"u-img u-star",attrs:{src:"".concat(t.imgPath).concat(t.star,"/img.png")}}),n("div",{class:"u-paint ".concat(1==t.clickCount?"animation":"")},[n("img",{staticClass:"u-pack-paint",attrs:{src:"".concat(t.imgPath,"paint.png")}}),n("img",{staticClass:"u-pack-ok",attrs:{src:"".concat(t.imgPath,"ok.png")}})]),n("img",{staticClass:"u-img u-hi",attrs:{src:"".concat(t.imgPath,"hi.png")}})])])},z=[],N={name:"Default2025",data:function(){return{data:"",imgPath:M["e"]+"design/card/birthday/default2025/",star:"SY",start:!1,open:!1,diffuse:!1,clickCount:0,mouseX:0,mouseY:0,isMouseOver:!1}},computed:{isLogin:function(){return j["a"].isLogin()},user:function(){return j["a"].getInfo()},id:function(){return this.$route.query.id},uid:function(){return this.$route.query.uid||0},isMine:function(){return this.uid==this.user.uid},name:function(){return this.user.name},date:function(){return this.dateFormat(this.data.created_at)},letterClass:function(){return{"m-letter":!0,open:this.open,diffuse:this.diffuse}},transformStyle:function(){return this.isMouseOver?{transform:"perspective(2000px) translate3d(".concat(this.mouseY,"px,").concat(this.mouseX,"px, 0px) rotateY(").concat(this.mouseX,"deg) rotateX(").concat(this.mouseY,"deg)")}:{transform:"perspective(2000px) translate(".concat(this.mouseY,"px,").concat(this.mouseX,"px, 0px) rotateY(").concat(this.mouseX,"deg) rotateX(").concat(this.mouseY,"deg)")}}},mounted:function(){this.isLogin?this.loadData():this.goBack()},methods:{dateFormat:function(t){return D()(t).format("YYYY年MM月DD日")},loadData:function(){var t=this;if(!this.isMine)return this.goBack();O(this.id).then((function(n){t.data=n.data.data,t.getStar()})).catch((function(){t.goBack()}))},openLetter:function(){var t=this;this.clickCount++,1==this.clickCount&&setTimeout((function(){t.open=!0}),500),2==this.clickCount&&(this.diffuse=!0)},handleMouseMove:function(t){if(!(this.clickCount<2)){var n=t.clientX/200,i=t.clientY/100;this.mouseX=n,this.mouseY=i,this.isMouseOver=!0}},handleMouseLeave:function(){this.clickCount<2||(this.isMouseOver=!1)},goBack:function(){this.$router.push({name:"index",params:{id:this.uid}})},getStar:function(){for(var t=new Date(this.data.birthday),n=t.getMonth()+1,i=t.getDate(),a=[{sign:"BY",start:{month:3,day:21},end:{month:4,day:19}},{sign:"JN",start:{month:4,day:20},end:{month:5,day:20}},{sign:"SZ",start:{month:5,day:21},end:{month:6,day:20}},{sign:"JX",start:{month:6,day:21},end:{month:7,day:22}},{sign:"LEO",start:{month:7,day:23},end:{month:8,day:22}},{sign:"CN",start:{month:8,day:23},end:{month:9,day:22}},{sign:"TC",start:{month:9,day:23},end:{month:10,day:22}},{sign:"TX",start:{month:10,day:23},end:{month:11,day:21}},{sign:"SS",start:{month:11,day:22},end:{month:12,day:21}},{sign:"MJ",start:{month:12,day:22},end:{month:1,day:19}},{sign:"SP",start:{month:1,day:20},end:{month:2,day:18}},{sign:"SY",start:{month:2,day:19},end:{month:3,day:20}}],e=0,s=a;e<s.length;e++){var o=s[e],c=o.sign,r=o.start,u=o.end;if(n===r.month&&i>=r.day||n===u.month&&i<=u.day||n>r.month&&n<u.month||n===u.month&&i<=u.day||n===r.month&&i>=r.day&&u.month===r.month)return void(this.star=c)}this.star="SY"}}},q=N,J=(i("076f"),Object(m["a"])(q,B,z,!1,null,null,null)),X=J.exports,H=function(){var t=this,n=t._self._c;return t.userdata?n("div",{staticClass:"m-birthday"},[n("div",{staticClass:"m-birthday-video"},[n("video",{staticClass:"u-video",attrs:{src:"".concat(t.imgPath,"birthbg.mp4"),type:"video/mp4",autoplay:"",loop:"",muted:""},domProps:{muted:!0}}),n("i",{staticClass:"u-mask"})]),n("div",{staticClass:"m-letter"},[n("div",{staticClass:"u-head"},[n("div",{staticClass:"u-zip"},[t._v(t._s(t.zip))]),n("div",{staticClass:"u-atv"},[n("img",{staticClass:"i-atv",attrs:{src:t.avatar}}),n("span",{staticClass:"i-stamp"})])]),n("div",{staticClass:"u-cont"},[n("img",{staticClass:"u-circle",attrs:{src:"".concat(t.imgPath,"bg.png"),alt:""}}),n("img",{staticClass:"u-light",attrs:{src:"".concat(t.imgPath,"light.png"),alt:""}}),n("div",{staticClass:"u-title"},[t._v(" 祝 "),n("b",[t._v(t._s(t.name))]),t._v("侠士 ")]),n("div",{staticClass:"u-age"},[n("span",[t._v(t._s(t.age))])])])])]):t._e()},R=[],E=i("c14f"),U=i("1da1"),Q=i("85e4"),G=i("305d"),V={name:"Birthday",props:[],data:function(){return{zip:"190929",age:2,userdata:"",imgPath:M["e"]+"design/card/birthday/default/"}},computed:{avatar:function(){var t;return Object(Q["showAvatar"])(null===(t=this.userdata)||void 0===t?void 0:t.user_avatar,140)},name:function(){var t;return null===(t=this.userdata)||void 0===t?void 0:t.display_name},id:function(){return this.$route.query.id},uid:function(){return this.$route.query.uid},isMine:function(){return this.uid==j["a"].getInfo().uid}},methods:{loadData:function(){var t=Object(U["a"])(Object(E["a"])().m((function t(){var n=this;return Object(E["a"])().w((function(t){while(1)switch(t.n){case 0:if(this.uid){t.n=1;break}return t.a(2);case 1:if(this.isMine){t.n=2;break}return t.a(2);case 2:Object(G["g"])(this.uid).then((function(t){n.userdata=t.data.data})),O(this.id).then((function(t){n.zip=D()(t.data.data.birthday).format("YYMMDD"),n.age=t.data.data.age}));case 3:return t.a(2)}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},mounted:function(){this.loadData()}},W=V,Z=(i("a94c"),Object(m["a"])(W,H,R,!1,null,null,null)),K=Z.exports,tt={name:"BirthdayCard",components:{Default2026:$,Default2025:X,Default:K,AppLayout:s["a"]},data:function(){return{event_component:K}},mounted:function(){var t=this.$route.query.skin,n={default2026:$,default2025:X,default:K};this.event_component=n[t]||K}},nt=tt,it=Object(m["a"])(nt,a,e,!1,null,null,null);n["default"]=it.exports},9279:function(t,n,i){},"93e0":function(t){t.exports=JSON.parse('{"1":{"name":"2022春节","key":"2022spring","type":"one","component":"OneScreen"},"2":{"name":"2022端午节","key":"2022dragon","type":"one","text":"2022端午节快乐！","component":"OneScreen"},"3":{"name":"2022七夕","bg":"bg.png","key":"seven","type":"double","component":"DoubleScreen","imgList":["petal.png","look.png","left.png","right.png","boxcion.png","close.png"]},"4":{"name":"2022中秋节","key":"midAutumn","type":"autumn","component":"CardAutumn","imgList":["one.png","two.png"]},"5":{"name":"2022圣诞节","key":"christmas","type":"christmas","component":"CardChristmas","imgList":["cover.jpg","button.png","bg.jpg"]},"6":{"name":"2023元旦","key":"newYearsDay","type":"newyear","component":"CardNewYear","imgList":["P1-BG.jpg","p2-01.jpg","ClickButton-1.png","CloseButton-1.png"]},"7":{"name":"2023春节","year":"2023","key":"springFestival","type":"spring","component":"CardSpring"},"8":{"name":"2023元宵节","key":"lanternFestival","type":"lantern","component":"CardLantern","imgList":["BG.png","Frame01.png","button.png","Frame02.png","debut.png","Frame03.png"]},"9":{"name":"2023端午节","key":"dragonBoatFestival","type":"dragon","component":"CardDragonBoat","imgList":["bg.svg","text.svg","cover.svg"]},"10":{"name":"2023七夕","key":"qixi","type":"qixi","component":"CardQixi","imgList":["text.png","bg.png","line.png"]},"11":{"name":"2023中秋节","count":true,"key":"midAutumn","type":"default","component":"DefaultTemplate","imgList":["202301.png","202302.jpg"]},"12":{"name":"2023圣诞节","key":"christmas2023","type":"christmas","component":"CardChristmas","imgList":["cover.jpg","button.png","bg.jpg"]},"28":{"name":"2024元旦","key":"newYearsDay2023","type":"newyear","component":"CardNewYear","imgList":["P1-BG.jpg","p2-01.jpg","ClickButton-1.png","CloseButton-1.png"]},"29":{"name":"2024春节","key":"springFestival2024","type":"spring","component":"CardSpring"},"30":{"name":"2024儿童节","key":"children2024","type":"children","component":"CardChildren"},"31":{"name":"2024中秋","bg":"202403.png","key":"midAutumn2024","type":"default","component":"DefaultTemplate","imgList":["202402.png","202401.png"]},"32":{"name":"2025春节","key":"springFestival2025","type":"spring","component":"CardSpring"},"33":{"name":"2025中秋节","bg":"202503.png","key":"midAutumn2025","type":"default","component":"DefaultTemplate","imgList":["202502.png","202501.png"],"size":{"width":"750px","height":"600px","margin":"-375px 0 0 -350px"},"percentage":"100%"},"34":{"name":"2025魔盒周年庆","key":"box2025","type":"anniversary","component":"Anniversary","imgList":[["card.png","button.png","close.png"],["bg1.jpg","girl1.png","bg1.mp4"],["bg2.jpg","girl2.png","bg2.mp4"],["path0@2x.png","path1@2x.png","star0.png","star1.png","text1.png","text2.png","text3.png"]],"txtList":[{"title":"魔盒积分","desc":"使用场景：可在魔盒商城兑换道具、积分抽奖"},{"title":"魔盒6周年限定纪念魔卡","desc":"实装场景：魔盒论坛（魔吧）封面"},{"title":"魔盒6周年限定头像框","desc":"实装场景：魔盒用户头像"},{"title":"魔盒6周年限定纪念勋章","desc":"实装场景：魔盒帖子侧边栏、个人主页"},{"title":"魔盒6周年限定称号","desc":"实装场景：魔盒帖子侧边栏、个人主页"},{"title":"魔盒6周年限定主题装扮","desc":"实装场景：日历、侧边栏、圈人卡、个人主页、评论"}]},"35":{"name":"2026春节","key":"springFestival2026","type":"spring_two","component":"CardSpringTwo","imgList":["text1.png","text2.png","text3.png","text4.png"]}}')},"948a":function(t,n,i){},"99c1":function(t,n,i){"use strict";i("1f25")},"9de8":function(t,n,i){"use strict";i("948a")},a94c:function(t,n,i){"use strict";i("bbef")},aa27:function(t,n,i){},abf9:function(t,n,i){},b05e:function(t,n,i){"use strict";i("c333")},b29c:function(t,n,i){"use strict";i("aa27")},bbef:function(t,n,i){},c333:function(t,n,i){},c6d4:function(t,n,i){"use strict";var a=function(){var t=this,n=t._self._c;return n("div",[n("Header"),t._t("default")],2)},e=[],s={name:"AppLayout",components:{},props:[],data:function(){return{}},computed:{},created:function(){},methods:{}},o=s,c=i("2877"),r=Object(c["a"])(o,a,e,!1,null,null,null);n["a"]=r.exports},d242:function(t,n,i){"use strict";i("5ed1")},f5eb:function(t,n,i){"use strict";i("75de")},f842:function(t,n,i){"use strict";i("0d9e")},f926:function(t,n,i){"use strict";i("35b6")},fe48:function(t,n,i){"use strict";i("8784")}});